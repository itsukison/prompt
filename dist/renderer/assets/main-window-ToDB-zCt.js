import{r as o,j as e,c as D,u as U,B as k,b as ne,a as _,d as W,e as re,f as Te,R as Me,P as Ae}from"./styles-B_Wz-rS5.js";const $=o.forwardRef(({className:t,type:s,...n},r)=>e.jsx("input",{type:s,className:D("flex h-9 w-full rounded-md border border-zinc-800 bg-transparent px-3 py-1.5 text-sm text-zinc-200 transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-zinc-600 focus:outline-none focus:border-zinc-600 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...n}));$.displayName="Input";function Pe({onNavigate:t}){const s=U(),[n,r]=o.useState(!1),[a,i]=o.useState(""),[l,c]=o.useState(""),[x,m]=o.useState(""),[u,d]=o.useState(!1),h=n?"Create account":"Welcome back",g=n?"Start your journey with a free account.":"Enter your credentials to access your workspace.",C=n?"Create Account":"Continue",j=n?"Already have an account? Sign in":"No account? Sign up",p=o.useCallback(()=>{r(w=>!w),m("")},[]),N=o.useCallback(async w=>{w.preventDefault(),m(""),d(!0);const b={email:a.trim(),password:l};try{const y=n?await s.auth.signUp(b):await s.auth.signIn(b);if(!y.success){m(y.error),d(!1);return}n||y.needsOnboarding?t("onboarding-1"):t("settings")}catch{m("An unexpected error occurred"),d(!1)}},[n,a,l,s,t]);return e.jsx("div",{className:"page active flex-col items-center justify-center min-h-screen px-4 animate-fade-in w-full",children:e.jsxs("div",{className:"w-full max-w-[360px]",children:[e.jsxs("div",{className:"flex flex-col items-center mb-10",children:[e.jsx("div",{className:"w-16 h-16 flex items-center justify-center mb-6",children:e.jsx("img",{src:"logo.png",alt:"Logo",className:"w-full h-full object-contain"})}),e.jsx("h1",{className:"text-3xl font-semibold text-zinc-100 tracking-tight mb-3",children:h}),e.jsx("p",{className:"text-zinc-500 text-sm",children:g})]}),e.jsxs("form",{onSubmit:N,className:"space-y-4 mb-8",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-1",children:"Email"}),e.jsx($,{type:"email",value:a,onChange:w=>i(w.target.value),placeholder:"name@company.com",required:!0,className:"h-11 bg-zinc-900/50"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-1",children:"Password"}),e.jsx($,{type:"password",value:l,onChange:w=>c(w.target.value),placeholder:"••••••••",required:!0,minLength:6,className:"h-11 bg-zinc-900/50"})]})]}),x&&e.jsx("div",{className:"text-xs text-red-300 bg-red-900/20 px-3 py-2 rounded-md border border-red-900/30",children:x}),e.jsx(k,{variant:"default",type:"submit",disabled:u,className:"w-full h-12",children:u?"Loading...":C})]}),e.jsx("div",{className:"text-center",children:e.jsx(k,{variant:"ghost",onClick:p,className:"text-sm",children:j})})]})})}function Fe({onNavigate:t}){const[s,n]=o.useState(""),r=o.useRef(null),a=s.trim().length>0;o.useEffect(()=>{r.current?.focus()},[]);const i=o.useCallback(l=>{l.preventDefault();const c=s.trim();c&&(sessionStorage.setItem("onboarding-name",c),t("onboarding-2"))},[s,t]);return e.jsx("div",{className:"page active flex-col items-center justify-center min-h-screen px-4 animate-fade-in w-full",children:e.jsxs("div",{className:"w-full max-w-[480px]",children:[e.jsxs("div",{className:"mb-8 text-center",children:[e.jsx("h2",{className:"text-3xl font-semibold text-zinc-100 tracking-tight mb-2",children:"What should we call you?"}),e.jsx("p",{className:"text-zinc-500 text-base",children:"Your name will be visible in your team workspace."})]}),e.jsxs("form",{onSubmit:i,className:"relative",children:[e.jsx($,{ref:r,type:"text",value:s,onChange:l=>n(l.target.value),placeholder:"Type your name...",required:!0,className:"w-full text-2xl py-5 px-0 border-0 border-b rounded-none text-center"}),e.jsx("div",{className:"flex justify-center mt-10",children:e.jsxs(k,{variant:"default",type:"submit",disabled:!a,className:"px-10 py-2.5 rounded-full flex items-center gap-2",children:["Continue",e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})})]})]})})}const oe=(...t)=>t.filter((s,n,r)=>!!s&&s.trim()!==""&&r.indexOf(s)===n).join(" ").trim();const Oe=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const Le=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(s,n,r)=>r?r.toUpperCase():n.toLowerCase());const te=t=>{const s=Le(t);return s.charAt(0).toUpperCase()+s.slice(1)};var $e={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const De=t=>{for(const s in t)if(s.startsWith("aria-")||s==="role"||s==="title")return!0;return!1};const Ue=o.forwardRef(({color:t="currentColor",size:s=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:a="",children:i,iconNode:l,...c},x)=>o.createElement("svg",{ref:x,...$e,width:s,height:s,stroke:t,strokeWidth:r?Number(n)*24/Number(s):n,className:oe("lucide",a),...!i&&!De(c)&&{"aria-hidden":"true"},...c},[...l.map(([m,u])=>o.createElement(m,u)),...Array.isArray(i)?i:[i]]));const S=(t,s)=>{const n=o.forwardRef(({className:r,...a},i)=>o.createElement(Ue,{ref:i,iconNode:s,className:oe(`lucide-${Oe(te(t))}`,`lucide-${t}`,r),...a}));return n.displayName=te(t),n};const Ve=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],Be=S("briefcase",Ve);const We=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Ge=S("chart-column",We);const Ke=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],q=S("check",Ke);const He=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],qe=S("credit-card",He);const Ye=[["path",{d:"M10 8h.01",key:"1r9ogq"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M14 8h.01",key:"1primd"}],["path",{d:"M16 12h.01",key:"1l6xoz"}],["path",{d:"M18 8h.01",key:"emo2bl"}],["path",{d:"M6 8h.01",key:"x9i8wu"}],["path",{d:"M7 16h10",key:"wp8him"}],["path",{d:"M8 12h.01",key:"czm47f"}],["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}]],Ze=S("keyboard",Ye);const Je=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Qe=S("log-out",Je);const Xe=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],et=S("menu",Xe);const tt=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],st=S("message-circle",tt);const nt=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],rt=S("palette",nt);const ot=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m16 15-3-3 3-3",key:"14y99z"}]],at=S("panel-left-close",ot);const it=[["path",{d:"M14 17H5",key:"gfn3mx"}],["path",{d:"M19 7h-9",key:"6i9tg"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]],ct=S("settings-2",it);const lt=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],dt=S("settings",lt);const ut=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],mt=S("user",ut);const xt=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],pt=S("zap",xt),Q=o.forwardRef(({className:t,...s},n)=>e.jsx("textarea",{className:D("flex min-h-[60px] w-full rounded-md border border-zinc-800 bg-transparent px-3 py-2 text-sm text-zinc-200 transition-colors placeholder:text-zinc-600 focus:outline-none focus:border-zinc-600 disabled:cursor-not-allowed disabled:opacity-50 resize-none",t),ref:n,...s}));Q.displayName="Textarea";const ft=[{id:"professional",title:"Professional",Icon:Be,description:"Clear, polished, and business-appropriate tone.",example:'"I wanted to follow up and confirm next steps."'},{id:"casual",title:"Casual",Icon:st,description:"Friendly, conversational, and approachable.",example:'"Hey! Just checking in about earlier—let me know!"'},{id:"concise",title:"Concise",Icon:pt,description:"Direct, minimal, no filler words.",example:'"Following up. Please confirm."'},{id:"creative",title:"Creative",Icon:rt,description:"Expressive, varied sentence structure.",example:`"Circling back—I've been mulling it over!"`}];function ht({onNavigate:t}){U();const[s,n]=o.useState(null),[r,a]=o.useState(""),[i,l]=o.useState(!1),c=s&&(s!=="custom"||r.trim().length>0),x=o.useCallback(d=>{n(d),d!=="custom"&&a("")},[]),m=o.useCallback(()=>{t("onboarding-1")},[t]),u=o.useCallback(()=>{if(s){if(s==="custom"&&!r.trim()){alert("Please enter your custom style instructions");return}sessionStorage.setItem("onboarding-style",s),s==="custom"&&sessionStorage.setItem("onboarding-style-guide",r.trim()),t("onboarding-3")}},[s,r,t]);return e.jsx("div",{className:"page active flex-col items-center justify-center min-h-screen px-4 py-8 animate-slide-up w-full",children:e.jsxs("div",{className:"w-full max-w-4xl",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h2",{className:"text-3xl font-semibold text-zinc-100 tracking-tight mb-2",children:"Choose your style"}),e.jsx("p",{className:"text-zinc-500 text-base",children:"How should the AI respond to you?"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 mb-8",children:[ft.map(d=>e.jsxs("button",{type:"button",onClick:()=>x(d.id),className:`text-left p-4 rounded-xl transition-all duration-300 group border relative overflow-hidden ${s===d.id?"bg-zinc-800 border-zinc-500":"bg-[#1e1e20] border-zinc-800/50 hover:bg-zinc-800/50 hover:border-zinc-700"}`,children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center transition-colors duration-300 flex-shrink-0 ${s===d.id?"bg-zinc-100 text-zinc-950":"bg-zinc-900 text-zinc-500 group-hover:text-zinc-300"}`,children:e.jsx(d.Icon,{className:"w-4 h-4"})}),e.jsx("h3",{className:`text-base font-medium ${s===d.id?"text-zinc-100":"text-zinc-300"}`,children:d.title})]}),e.jsx("p",{className:"text-sm text-zinc-500 mb-3 leading-relaxed",children:d.description}),e.jsx("div",{className:`text-xs italic leading-relaxed pl-3 border-l-2 ${s===d.id?"text-zinc-300 border-zinc-500":"text-zinc-600 border-zinc-800"}`,children:d.example})]},d.id)),e.jsxs("div",{className:"md:col-span-2",children:[e.jsxs("button",{type:"button",onClick:()=>x("custom"),className:`w-full text-left p-4 rounded-xl transition-all duration-300 border relative overflow-hidden ${s==="custom"?"bg-zinc-800 border-zinc-500":"bg-[#1e1e20] border-zinc-800/50 hover:bg-zinc-800/50 hover:border-zinc-700"}`,children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center transition-colors flex-shrink-0 ${s==="custom"?"bg-zinc-100 text-zinc-950":"bg-zinc-900 text-zinc-500"}`,children:e.jsx(ct,{className:"w-4 h-4"})}),e.jsx("h3",{className:`text-base font-medium ${s==="custom"?"text-zinc-100":"text-zinc-300"}`,children:"Custom"})]}),e.jsx("p",{className:"text-sm text-zinc-500",children:"Define your own system prompt instructions."})]}),s==="custom"&&e.jsx("div",{className:"mt-3 animate-fade-in",children:e.jsx(Q,{value:r,onChange:d=>a(d.target.value),className:"w-full bg-[#121214] min-h-[80px] font-mono shadow-inner text-sm",placeholder:"e.g. You are a helpful assistant who speaks in riddles..."})})]})]}),e.jsxs("div",{className:"flex justify-between items-center max-w-4xl mx-auto w-full",children:[e.jsxs(k,{variant:"ghost",type:"button",onClick:m,className:"px-0 hover:bg-transparent flex items-center gap-2 text-zinc-400 hover:text-zinc-300",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back"]}),e.jsxs(k,{variant:"default",type:"button",onClick:u,disabled:!c,className:"px-8 py-2.5 rounded-full flex items-center gap-2",children:["Continue",e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]})})}function ae({platform:t}){const s=t==="darwin"||typeof navigator<"u"&&navigator.platform.toUpperCase().indexOf("MAC")>=0,n=s?"⌘":"Ctrl",r=s?"⇧":"Shift";return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-[#1e1e20] border border-zinc-800/50 rounded-xl p-6 flex flex-col items-center justify-center gap-4 text-center group hover:bg-zinc-800/50 hover:border-zinc-700 transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("kbd",{className:"h-12 min-w-[48px] px-3 flex items-center justify-center bg-zinc-900 border-b-4 border-zinc-950 rounded-lg text-zinc-100 font-mono text-xl shadow-lg group-hover:translate-y-[2px] group-hover:border-b-2 group-hover:shadow-md transition-all duration-200",children:n}),e.jsx("span",{className:"text-zinc-600 font-light text-2xl",children:"+"}),e.jsx("kbd",{className:"h-12 min-w-[48px] px-3 flex items-center justify-center bg-zinc-900 border-b-4 border-zinc-950 rounded-lg text-zinc-100 font-mono text-xl shadow-lg group-hover:translate-y-[2px] group-hover:border-b-2 group-hover:shadow-md transition-all duration-200",children:"/"})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-zinc-100 font-medium mb-1",children:"Toggle AI Assistant"}),e.jsx("p",{className:"text-zinc-500 text-sm",children:"Open/close overlay (captures selected text when opening)"})]})]}),e.jsxs("div",{className:"bg-[#1e1e20] border border-zinc-800/50 rounded-xl p-6 flex flex-col items-center justify-center gap-4 text-center group hover:bg-zinc-800/50 hover:border-zinc-700 transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("kbd",{className:"h-12 min-w-[48px] px-3 flex items-center justify-center bg-zinc-900 border-b-4 border-zinc-950 rounded-lg text-zinc-100 font-mono text-xl shadow-lg group-hover:translate-y-[2px] group-hover:border-b-2 group-hover:shadow-md transition-all duration-200",children:n}),e.jsx("span",{className:"text-zinc-600 font-light text-2xl",children:"+"}),e.jsx("kbd",{className:"h-12 min-w-[48px] px-3 flex items-center justify-center bg-zinc-900 border-b-4 border-zinc-950 rounded-lg text-zinc-100 font-mono text-xl shadow-lg group-hover:translate-y-[2px] group-hover:border-b-2 group-hover:shadow-md transition-all duration-200",children:"."})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-zinc-100 font-medium mb-1",children:"Update Context"}),e.jsx("p",{className:"text-zinc-500 text-sm",children:"Capture newly selected text when overlay is open"})]})]}),e.jsxs("div",{className:"bg-[#1e1e20] border border-zinc-800/50 rounded-xl p-6 flex flex-col items-center justify-center gap-4 text-center group hover:bg-zinc-800/50 hover:border-zinc-700 transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("kbd",{className:"h-12 min-w-[48px] px-3 flex items-center justify-center bg-zinc-900 border-b-4 border-zinc-950 rounded-lg text-zinc-100 font-mono text-xl shadow-lg group-hover:translate-y-[2px] group-hover:border-b-2 group-hover:shadow-md transition-all duration-200",children:n}),e.jsx("span",{className:"text-zinc-600 font-light text-2xl",children:"+"}),e.jsx("kbd",{className:"h-12 min-w-[48px] px-3 flex items-center justify-center bg-zinc-900 border-b-4 border-zinc-950 rounded-lg text-zinc-100 font-mono text-xl shadow-lg group-hover:translate-y-[2px] group-hover:border-b-2 group-hover:shadow-md transition-all duration-200",children:r}),e.jsx("span",{className:"text-zinc-600 font-light text-2xl",children:"+"}),e.jsx("kbd",{className:"h-12 min-w-[48px] px-3 flex items-center justify-center bg-zinc-900 border-b-4 border-zinc-950 rounded-lg text-zinc-100 font-mono text-xl shadow-lg group-hover:translate-y-[2px] group-hover:border-b-2 group-hover:shadow-md transition-all duration-200",children:"/"})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-zinc-100 font-medium mb-1",children:"Open Settings"}),e.jsx("p",{className:"text-zinc-500 text-sm",children:"Manage your preferences"})]})]})]}),e.jsxs("div",{className:"mt-8 space-y-4",children:[e.jsx("h4",{className:"text-sm font-medium text-zinc-300",children:"Usage Tips"}),e.jsxs("div",{className:"space-y-3 text-sm text-zinc-400",children:[e.jsxs("div",{className:"flex gap-3",children:[e.jsx("span",{className:"text-zinc-500 shrink-0",children:"1."}),e.jsxs("p",{children:[e.jsx("strong",{className:"text-zinc-300",children:"Quick refine:"})," Highlight text first, then press ",e.jsxs("kbd",{className:"px-1.5 py-0.5 bg-zinc-900 border border-zinc-800 rounded text-xs font-mono",children:[n,"+/"]}),' to open with context. Type "refine this" or "fix grammar".']})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("span",{className:"text-zinc-500 shrink-0",children:"2."}),e.jsxs("p",{children:[e.jsx("strong",{className:"text-zinc-300",children:"Update context:"})," While overlay is open, select different text and press ",e.jsxs("kbd",{className:"px-1.5 py-0.5 bg-zinc-900 border border-zinc-800 rounded text-xs font-mono",children:[n,"+."]})," to update the context without closing."]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("span",{className:"text-zinc-500 shrink-0",children:"3."}),e.jsxs("p",{children:[e.jsx("strong",{className:"text-zinc-300",children:"Clean toggle:"})," Press ",e.jsxs("kbd",{className:"px-1.5 py-0.5 bg-zinc-900 border border-zinc-800 rounded text-xs font-mono",children:[n,"+/"]})," again to close the overlay - simple and predictable."]})]})]})]})]})}function gt({onNavigate:t}){const s=U(),n=o.useCallback(async()=>{const a=sessionStorage.getItem("onboarding-name")||"",i=sessionStorage.getItem("onboarding-style")||"professional",l=sessionStorage.getItem("onboarding-style-guide")||null;try{const c=await s.onboarding.complete({displayName:a,writingStyle:i,writingStyleGuide:l});if(!c.success){console.error("Failed to complete onboarding:",c.error),alert("Failed to complete setup: "+c.error);return}sessionStorage.removeItem("onboarding-name"),sessionStorage.removeItem("onboarding-style"),sessionStorage.removeItem("onboarding-style-guide")}catch(c){console.error("Failed to complete onboarding:",c),alert("Failed to complete setup")}},[s]),r=o.useCallback(()=>{t("onboarding-2")},[t]);return o.useEffect(()=>{const a=i=>{const c=typeof navigator<"u"&&navigator.platform.toUpperCase().indexOf("MAC")>=0?i.metaKey:i.ctrlKey;c&&i.key==="/"&&!i.shiftKey&&(i.preventDefault(),n()),c&&i.shiftKey&&i.key==="/"&&(i.preventDefault(),n())};return window.addEventListener("keydown",a),()=>window.removeEventListener("keydown",a)},[n]),e.jsx("div",{className:"page active flex-col items-center justify-center min-h-screen px-4 animate-slide-up w-full",children:e.jsxs("div",{className:"w-full max-w-4xl",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h2",{className:"text-3xl font-semibold text-zinc-100 tracking-tight mb-2",children:"Give it a try"}),e.jsx("p",{className:"text-zinc-500 text-base",children:"Press the shortcut below to finish setup and open the assistant."})]}),e.jsx("div",{className:"mb-8",children:e.jsx(ae,{platform:navigator.platform})}),e.jsxs("div",{className:"flex justify-between items-center max-w-4xl mx-auto w-full",children:[e.jsxs(k,{variant:"ghost",type:"button",onClick:r,className:"px-0 hover:bg-transparent flex items-center gap-2 text-zinc-400 hover:text-zinc-300",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back"]}),e.jsx(k,{variant:"ghost",type:"button",onClick:n,className:"text-zinc-500 hover:text-zinc-300 hover:bg-transparent",children:"Skip for now"})]})]})})}function I(t,s,{checkForDefaultPrevented:n=!0}={}){return function(a){if(t?.(a),n===!1||!a.defaultPrevented)return s?.(a)}}function X(t,s=[]){let n=[];function r(i,l){const c=o.createContext(l),x=n.length;n=[...n,l];const m=d=>{const{scope:h,children:g,...C}=d,j=h?.[t]?.[x]||c,p=o.useMemo(()=>C,Object.values(C));return e.jsx(j.Provider,{value:p,children:g})};m.displayName=i+"Provider";function u(d,h){const g=h?.[t]?.[x]||c,C=o.useContext(g);if(C)return C;if(l!==void 0)return l;throw new Error(`\`${d}\` must be used within \`${i}\``)}return[m,u]}const a=()=>{const i=n.map(l=>o.createContext(l));return function(c){const x=c?.[t]||i;return o.useMemo(()=>({[`__scope${t}`]:{...c,[t]:x}}),[c,x])}};return a.scopeName=t,[r,bt(a,...s)]}function bt(...t){const s=t[0];if(t.length===1)return s;const n=()=>{const r=t.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const l=r.reduce((c,{useScope:x,scopeName:m})=>{const d=x(i)[`__scope${m}`];return{...c,...d}},{});return o.useMemo(()=>({[`__scope${s.scopeName}`]:l}),[l])}};return n.scopeName=s.scopeName,n}function se(t){const s=vt(t),n=o.forwardRef((r,a)=>{const{children:i,...l}=r,c=o.Children.toArray(i),x=c.find(jt);if(x){const m=x.props.children,u=c.map(d=>d===x?o.Children.count(m)>1?o.Children.only(null):o.isValidElement(m)?m.props.children:null:d);return e.jsx(s,{...l,ref:a,children:o.isValidElement(m)?o.cloneElement(m,void 0,u):null})}return e.jsx(s,{...l,ref:a,children:i})});return n.displayName=`${t}.Slot`,n}function vt(t){const s=o.forwardRef((n,r)=>{const{children:a,...i}=n;if(o.isValidElement(a)){const l=wt(a),c=Nt(i,a.props);return a.type!==o.Fragment&&(c.ref=r?ne(r,l):l),o.cloneElement(a,c)}return o.Children.count(a)>1?o.Children.only(null):null});return s.displayName=`${t}.SlotClone`,s}var yt=Symbol("radix.slottable");function jt(t){return o.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===yt}function Nt(t,s){const n={...s};for(const r in s){const a=t[r],i=s[r];/^on[A-Z]/.test(r)?a&&i?n[r]=(...c)=>{const x=i(...c);return a(...c),x}:a&&(n[r]=a):r==="style"?n[r]={...a,...i}:r==="className"&&(n[r]=[a,i].filter(Boolean).join(" "))}return{...t,...n}}function wt(t){let s=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=s&&"isReactWarning"in s&&s.isReactWarning;return n?t.ref:(s=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=s&&"isReactWarning"in s&&s.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Ct(t){const s=t+"CollectionProvider",[n,r]=X(s),[a,i]=n(s,{collectionRef:{current:null},itemMap:new Map}),l=j=>{const{scope:p,children:N}=j,w=_.useRef(null),b=_.useRef(new Map).current;return e.jsx(a,{scope:p,itemMap:b,collectionRef:w,children:N})};l.displayName=s;const c=t+"CollectionSlot",x=se(c),m=_.forwardRef((j,p)=>{const{scope:N,children:w}=j,b=i(c,N),y=W(p,b.collectionRef);return e.jsx(x,{ref:y,children:w})});m.displayName=c;const u=t+"CollectionItemSlot",d="data-radix-collection-item",h=se(u),g=_.forwardRef((j,p)=>{const{scope:N,children:w,...b}=j,y=_.useRef(null),E=W(p,y),R=i(u,N);return _.useEffect(()=>(R.itemMap.set(y,{ref:y,...b}),()=>{R.itemMap.delete(y)})),e.jsx(h,{[d]:"",ref:E,children:w})});g.displayName=u;function C(j){const p=i(t+"CollectionConsumer",j);return _.useCallback(()=>{const w=p.collectionRef.current;if(!w)return[];const b=Array.from(w.querySelectorAll(`[${d}]`));return Array.from(p.itemMap.values()).sort((R,M)=>b.indexOf(R.ref.current)-b.indexOf(M.ref.current))},[p.collectionRef,p.itemMap])}return[{Provider:l,Slot:m,ItemSlot:g},C,r]}var G=globalThis?.document?o.useLayoutEffect:()=>{},zt=re[" useId ".trim().toString()]||(()=>{}),kt=0;function ie(t){const[s,n]=o.useState(zt());return G(()=>{n(r=>r??String(kt++))},[t]),s?`radix-${s}`:""}Te();function St(t){const s=It(t),n=o.forwardRef((r,a)=>{const{children:i,...l}=r,c=o.Children.toArray(i),x=c.find(Rt);if(x){const m=x.props.children,u=c.map(d=>d===x?o.Children.count(m)>1?o.Children.only(null):o.isValidElement(m)?m.props.children:null:d);return e.jsx(s,{...l,ref:a,children:o.isValidElement(m)?o.cloneElement(m,void 0,u):null})}return e.jsx(s,{...l,ref:a,children:i})});return n.displayName=`${t}.Slot`,n}function It(t){const s=o.forwardRef((n,r)=>{const{children:a,...i}=n;if(o.isValidElement(a)){const l=Tt(a),c=_t(i,a.props);return a.type!==o.Fragment&&(c.ref=r?ne(r,l):l),o.cloneElement(a,c)}return o.Children.count(a)>1?o.Children.only(null):null});return s.displayName=`${t}.SlotClone`,s}var Et=Symbol("radix.slottable");function Rt(t){return o.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Et}function _t(t,s){const n={...s};for(const r in s){const a=t[r],i=s[r];/^on[A-Z]/.test(r)?a&&i?n[r]=(...c)=>{const x=i(...c);return a(...c),x}:a&&(n[r]=a):r==="style"?n[r]={...a,...i}:r==="className"&&(n[r]=[a,i].filter(Boolean).join(" "))}return{...t,...n}}function Tt(t){let s=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=s&&"isReactWarning"in s&&s.isReactWarning;return n?t.ref:(s=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=s&&"isReactWarning"in s&&s.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Mt=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],O=Mt.reduce((t,s)=>{const n=St(`Primitive.${s}`),r=o.forwardRef((a,i)=>{const{asChild:l,...c}=a,x=l?n:s;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),e.jsx(x,{...c,ref:i})});return r.displayName=`Primitive.${s}`,{...t,[s]:r}},{});function At(t){const s=o.useRef(t);return o.useEffect(()=>{s.current=t}),o.useMemo(()=>(...n)=>s.current?.(...n),[])}var Pt=re[" useInsertionEffect ".trim().toString()]||G;function ce({prop:t,defaultProp:s,onChange:n=()=>{},caller:r}){const[a,i,l]=Ft({defaultProp:s,onChange:n}),c=t!==void 0,x=c?t:a;{const u=o.useRef(t!==void 0);o.useEffect(()=>{const d=u.current;d!==c&&console.warn(`${r} is changing from ${d?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=c},[c,r])}const m=o.useCallback(u=>{if(c){const d=Ot(u)?u(t):u;d!==t&&l.current?.(d)}else i(u)},[c,t,i,l]);return[x,m]}function Ft({defaultProp:t,onChange:s}){const[n,r]=o.useState(t),a=o.useRef(n),i=o.useRef(s);return Pt(()=>{i.current=s},[s]),o.useEffect(()=>{a.current!==n&&(i.current?.(n),a.current=n)},[n,a]),[n,r,i]}function Ot(t){return typeof t=="function"}var Lt=o.createContext(void 0);function le(t){const s=o.useContext(Lt);return t||s||"ltr"}var Y="rovingFocusGroup.onEntryFocus",$t={bubbles:!1,cancelable:!0},V="RovingFocusGroup",[J,de,Dt]=Ct(V),[Ut,ue]=X(V,[Dt]),[Vt,Bt]=Ut(V),me=o.forwardRef((t,s)=>e.jsx(J.Provider,{scope:t.__scopeRovingFocusGroup,children:e.jsx(J.Slot,{scope:t.__scopeRovingFocusGroup,children:e.jsx(Wt,{...t,ref:s})})}));me.displayName=V;var Wt=o.forwardRef((t,s)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:a=!1,dir:i,currentTabStopId:l,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:x,onEntryFocus:m,preventScrollOnEntryFocus:u=!1,...d}=t,h=o.useRef(null),g=W(s,h),C=le(i),[j,p]=ce({prop:l,defaultProp:c??null,onChange:x,caller:V}),[N,w]=o.useState(!1),b=At(m),y=de(n),E=o.useRef(!1),[R,M]=o.useState(0);return o.useEffect(()=>{const z=h.current;if(z)return z.addEventListener(Y,b),()=>z.removeEventListener(Y,b)},[b]),e.jsx(Vt,{scope:n,orientation:r,dir:C,loop:a,currentTabStopId:j,onItemFocus:o.useCallback(z=>p(z),[p]),onItemShiftTab:o.useCallback(()=>w(!0),[]),onFocusableItemAdd:o.useCallback(()=>M(z=>z+1),[]),onFocusableItemRemove:o.useCallback(()=>M(z=>z-1),[]),children:e.jsx(O.div,{tabIndex:N||R===0?-1:0,"data-orientation":r,...d,ref:g,style:{outline:"none",...t.style},onMouseDown:I(t.onMouseDown,()=>{E.current=!0}),onFocus:I(t.onFocus,z=>{const H=!E.current;if(z.target===z.currentTarget&&H&&!N){const f=new CustomEvent(Y,$t);if(z.currentTarget.dispatchEvent(f),!f.defaultPrevented){const v=y().filter(T=>T.focusable),L=v.find(T=>T.active),A=v.find(T=>T.id===j),_e=[L,A,...v].filter(Boolean).map(T=>T.ref.current);fe(_e,u)}}E.current=!1}),onBlur:I(t.onBlur,()=>w(!1))})})}),xe="RovingFocusGroupItem",pe=o.forwardRef((t,s)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:a=!1,tabStopId:i,children:l,...c}=t,x=ie(),m=i||x,u=Bt(xe,n),d=u.currentTabStopId===m,h=de(n),{onFocusableItemAdd:g,onFocusableItemRemove:C,currentTabStopId:j}=u;return o.useEffect(()=>{if(r)return g(),()=>C()},[r,g,C]),e.jsx(J.ItemSlot,{scope:n,id:m,focusable:r,active:a,children:e.jsx(O.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...c,ref:s,onMouseDown:I(t.onMouseDown,p=>{r?u.onItemFocus(m):p.preventDefault()}),onFocus:I(t.onFocus,()=>u.onItemFocus(m)),onKeyDown:I(t.onKeyDown,p=>{if(p.key==="Tab"&&p.shiftKey){u.onItemShiftTab();return}if(p.target!==p.currentTarget)return;const N=Ht(p,u.orientation,u.dir);if(N!==void 0){if(p.metaKey||p.ctrlKey||p.altKey||p.shiftKey)return;p.preventDefault();let b=h().filter(y=>y.focusable).map(y=>y.ref.current);if(N==="last")b.reverse();else if(N==="prev"||N==="next"){N==="prev"&&b.reverse();const y=b.indexOf(p.currentTarget);b=u.loop?qt(b,y+1):b.slice(y+1)}setTimeout(()=>fe(b))}}),children:typeof l=="function"?l({isCurrentTabStop:d,hasTabStop:j!=null}):l})})});pe.displayName=xe;var Gt={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Kt(t,s){return s!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function Ht(t,s,n){const r=Kt(t.key,n);if(!(s==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(s==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return Gt[r]}function fe(t,s=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:s}),document.activeElement!==n))return}function qt(t,s){return t.map((n,r)=>t[(s+r)%t.length])}var Yt=me,Zt=pe;function Jt(t,s){return o.useReducer((n,r)=>s[n][r]??n,t)}var he=t=>{const{present:s,children:n}=t,r=Qt(s),a=typeof n=="function"?n({present:r.isPresent}):o.Children.only(n),i=W(r.ref,Xt(a));return typeof n=="function"||r.isPresent?o.cloneElement(a,{ref:i}):null};he.displayName="Presence";function Qt(t){const[s,n]=o.useState(),r=o.useRef(null),a=o.useRef(t),i=o.useRef("none"),l=t?"mounted":"unmounted",[c,x]=Jt(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return o.useEffect(()=>{const m=B(r.current);i.current=c==="mounted"?m:"none"},[c]),G(()=>{const m=r.current,u=a.current;if(u!==t){const h=i.current,g=B(m);t?x("MOUNT"):g==="none"||m?.display==="none"?x("UNMOUNT"):x(u&&h!==g?"ANIMATION_OUT":"UNMOUNT"),a.current=t}},[t,x]),G(()=>{if(s){let m;const u=s.ownerDocument.defaultView??window,d=g=>{const j=B(r.current).includes(CSS.escape(g.animationName));if(g.target===s&&j&&(x("ANIMATION_END"),!a.current)){const p=s.style.animationFillMode;s.style.animationFillMode="forwards",m=u.setTimeout(()=>{s.style.animationFillMode==="forwards"&&(s.style.animationFillMode=p)})}},h=g=>{g.target===s&&(i.current=B(r.current))};return s.addEventListener("animationstart",h),s.addEventListener("animationcancel",d),s.addEventListener("animationend",d),()=>{u.clearTimeout(m),s.removeEventListener("animationstart",h),s.removeEventListener("animationcancel",d),s.removeEventListener("animationend",d)}}else x("ANIMATION_END")},[s,x]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:o.useCallback(m=>{r.current=m?getComputedStyle(m):null,n(m)},[])}}function B(t){return t?.animationName||"none"}function Xt(t){let s=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=s&&"isReactWarning"in s&&s.isReactWarning;return n?t.ref:(s=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=s&&"isReactWarning"in s&&s.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var K="Tabs",[es]=X(K,[ue]),ge=ue(),[ts,ee]=es(K),be=o.forwardRef((t,s)=>{const{__scopeTabs:n,value:r,onValueChange:a,defaultValue:i,orientation:l="horizontal",dir:c,activationMode:x="automatic",...m}=t,u=le(c),[d,h]=ce({prop:r,onChange:a,defaultProp:i??"",caller:K});return e.jsx(ts,{scope:n,baseId:ie(),value:d,onValueChange:h,orientation:l,dir:u,activationMode:x,children:e.jsx(O.div,{dir:u,"data-orientation":l,...m,ref:s})})});be.displayName=K;var ve="TabsList",ye=o.forwardRef((t,s)=>{const{__scopeTabs:n,loop:r=!0,...a}=t,i=ee(ve,n),l=ge(n);return e.jsx(Yt,{asChild:!0,...l,orientation:i.orientation,dir:i.dir,loop:r,children:e.jsx(O.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:s})})});ye.displayName=ve;var je="TabsTrigger",Ne=o.forwardRef((t,s)=>{const{__scopeTabs:n,value:r,disabled:a=!1,...i}=t,l=ee(je,n),c=ge(n),x=ze(l.baseId,r),m=ke(l.baseId,r),u=r===l.value;return e.jsx(Zt,{asChild:!0,...c,focusable:!a,active:u,children:e.jsx(O.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":m,"data-state":u?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:x,...i,ref:s,onMouseDown:I(t.onMouseDown,d=>{!a&&d.button===0&&d.ctrlKey===!1?l.onValueChange(r):d.preventDefault()}),onKeyDown:I(t.onKeyDown,d=>{[" ","Enter"].includes(d.key)&&l.onValueChange(r)}),onFocus:I(t.onFocus,()=>{const d=l.activationMode!=="manual";!u&&!a&&d&&l.onValueChange(r)})})})});Ne.displayName=je;var we="TabsContent",Ce=o.forwardRef((t,s)=>{const{__scopeTabs:n,value:r,forceMount:a,children:i,...l}=t,c=ee(we,n),x=ze(c.baseId,r),m=ke(c.baseId,r),u=r===c.value,d=o.useRef(u);return o.useEffect(()=>{const h=requestAnimationFrame(()=>d.current=!1);return()=>cancelAnimationFrame(h)},[]),e.jsx(he,{present:a||u,children:({present:h})=>e.jsx(O.div,{"data-state":u?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":x,hidden:!h,id:m,tabIndex:0,...l,ref:s,style:{...t.style,animationDuration:d.current?"0s":void 0},children:h&&i})})});Ce.displayName=we;function ze(t,s){return`${t}-trigger-${s}`}function ke(t,s){return`${t}-content-${s}`}var ss=be,Se=ye,Ie=Ne,Ee=Ce;const ns=ss,Re=o.forwardRef(({className:t,...s},n)=>e.jsx(Se,{ref:n,className:D("inline-flex flex-col items-stretch w-full space-y-1",t),...s}));Re.displayName=Se.displayName;const P=o.forwardRef(({className:t,...s},n)=>e.jsx(Ie,{ref:n,className:D("flex items-center gap-3 text-left px-3 py-2 rounded-md text-sm transition-all duration-200 text-zinc-500 hover:bg-zinc-800/40 hover:text-zinc-300 data-[state=active]:bg-zinc-800/80 data-[state=active]:text-zinc-100 data-[state=active]:shadow-sm focus-visible:outline-none",t),...s}));P.displayName=Ie.displayName;const F=o.forwardRef(({className:t,...s},n)=>e.jsx(Ee,{ref:n,className:D("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...s}));F.displayName=Ee.displayName;function rs(){const t=U(),[s,n]=o.useState("general"),[r,a]=o.useState(null),[i,l]=o.useState(!0),[c,x]=o.useState(""),[m,u]=o.useState(!1),[d,h]=o.useState(""),[g,C]=o.useState("professional"),[j,p]=o.useState(""),[N,w]=o.useState(()=>localStorage.getItem("sidebar-collapsed")==="true"),b=r?r.tokens_used/(r.tokens_used+r.tokens_remaining)*100:0;o.useEffect(()=>{localStorage.setItem("sidebar-collapsed",String(N))},[N]),o.useEffect(()=>{let f=!1;return(async()=>{try{const v=await t.profile.get();if(!f&&v.success){const A=v.profile;a(A),h(A.display_name||""),C(A.writing_style||"professional"),p(A.writing_style_guide||"")}const L=await t.auth.getSession();!f&&L.success&&L.session&&x(L.session.user.email||""),l(!1)}catch(v){console.error("Failed to load settings:",v),l(!1)}})(),()=>{f=!0}},[t]);const y=o.useCallback(()=>{w(f=>!f)},[]),E=o.useCallback(()=>{u(!0)},[]),R=o.useCallback(async()=>{const f=d.trim();if(f)try{const v=await t.profile.update({display_name:f});v.success?(a(v.profile),u(!1)):alert("Failed to save: "+v.error)}catch{alert("Failed to save name")}},[d,t]),M=o.useCallback(async f=>{if(C(f),f!=="custom")try{const v=await t.profile.update({writing_style:f});v.success&&a(v.profile)}catch{console.error("Failed to update style")}},[t]),z=o.useCallback(async()=>{const f=j.trim();if(f)try{const v=await t.profile.update({writing_style:"custom",writing_style_guide:f});v.success&&(a(v.profile),alert("Custom style saved!"))}catch{alert("Failed to save style")}},[j,t]),H=o.useCallback(async()=>{try{await t.auth.signOut()}catch{alert("Failed to log out")}},[t]);return i?e.jsx("div",{className:"flex h-screen items-center justify-center bg-claude-bg text-zinc-200",children:e.jsx("div",{children:"Loading..."})}):e.jsxs(ns,{value:s,onValueChange:n,className:"page active flex h-screen bg-claude-bg text-zinc-200 overflow-hidden w-full",children:[e.jsx("div",{className:"title-bar h-8 w-full fixed top-0 left-0 z-50"}),N&&e.jsx(k,{variant:"ghost",size:"icon",onClick:y,className:"fixed top-10 left-4 z-50 p-2 rounded-lg bg-claude-sidebar border border-zinc-800/50",children:e.jsx(et,{className:"w-5 h-5"})}),e.jsxs("aside",{className:`flex flex-col bg-claude-sidebar border-r border-zinc-800/50 pt-10 pb-4 h-full transition-all duration-300 ease-in-out ${N?"w-0 opacity-0 overflow-hidden":"w-[260px] opacity-100"}`,children:[e.jsxs("div",{className:"px-5 mb-8 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3 overflow-hidden",children:[e.jsx("img",{src:"logo.png",alt:"Logo",className:"w-7 h-7 object-contain shrink-0"}),e.jsx("span",{className:"text-xl font-semibold tracking-tight text-zinc-100",children:"PromptOS"})]}),e.jsx(k,{variant:"ghost",size:"sm",onClick:y,className:"text-zinc-500 hover:text-zinc-300 h-auto p-1",children:e.jsx(at,{className:"w-4 h-4"})})]}),e.jsxs(Re,{className:"flex-1 px-3",children:[e.jsxs(P,{value:"general",children:[e.jsx(dt,{className:"w-4 h-4 shrink-0"}),e.jsx("span",{className:"whitespace-nowrap",children:"General"})]}),e.jsxs(P,{value:"account",children:[e.jsx(mt,{className:"w-4 h-4 shrink-0"}),e.jsx("span",{className:"whitespace-nowrap",children:"Account"})]}),e.jsxs(P,{value:"billing",children:[e.jsx(qe,{className:"w-4 h-4 shrink-0"}),e.jsx("span",{className:"whitespace-nowrap",children:"Billing"})]}),e.jsxs(P,{value:"usage",children:[e.jsx(Ge,{className:"w-4 h-4 shrink-0"}),e.jsx("span",{className:"whitespace-nowrap",children:"Usage"})]}),e.jsxs(P,{value:"shortcuts",children:[e.jsx(Ze,{className:"w-4 h-4 shrink-0"}),e.jsx("span",{className:"whitespace-nowrap",children:"Shortcuts"})]})]}),e.jsx("div",{className:"px-3 mt-auto",children:e.jsxs("div",{className:"p-3 rounded-lg bg-zinc-900/30 mb-2",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-zinc-800 flex items-center justify-center text-xs font-medium text-zinc-300 shrink-0",children:r?.display_name?.charAt(0).toUpperCase()||"U"}),e.jsxs("div",{className:"overflow-hidden",children:[e.jsx("p",{className:"text-sm font-medium truncate text-zinc-200",children:r?.display_name||"User Name"}),e.jsx("p",{className:"text-[10px] text-zinc-500 truncate uppercase tracking-wider",children:r?.subscription_tier==="pro"?"Pro Plan":"Free Plan"})]})]}),e.jsxs(k,{variant:"ghost",size:"sm",onClick:H,className:"w-full h-8 flex items-center gap-2 px-2 text-xs text-zinc-500 hover:text-zinc-300 justify-start",children:[e.jsx(Qe,{className:"w-3.5 h-3.5"}),"Sign out"]})]})})]}),e.jsx("main",{className:"flex-1 overflow-y-auto bg-claude-bg h-full",children:e.jsxs("div",{className:"max-w-3xl mx-auto px-12 py-16 animate-fade-in",children:[e.jsxs("div",{className:"mb-10",children:[e.jsx("h1",{className:"text-2xl font-semibold mb-1 text-zinc-100 capitalize",children:s}),e.jsxs("p",{className:"text-zinc-500 text-sm",children:[s==="general"&&"Manage your workspace preferences and settings.",s==="account"&&"View and manage your account information.",s==="billing"&&"Manage your subscription and billing.",s==="usage"&&"View your usage statistics.",s==="shortcuts"&&"View keyboard shortcuts and get started."]})]}),e.jsxs(F,{value:"general",className:"space-y-8",children:[e.jsxs("section",{className:"space-y-3",children:[e.jsx("h3",{className:"text-xs font-medium text-zinc-500 uppercase tracking-wider mb-4",children:"Profile"}),e.jsxs("div",{className:"flex justify-between items-center py-3 hover:bg-zinc-900/20 -mx-3 px-3 rounded-md transition-colors",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx("h3",{className:"text-sm font-medium text-zinc-200",children:"Display Name"}),e.jsx("p",{className:"text-xs text-zinc-500",children:"Visible to other members of your workspace."})]}),m?e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx($,{value:d,onChange:f=>h(f.target.value),className:"w-48"}),e.jsx(k,{variant:"default",size:"sm",onClick:R,className:"text-xs",children:"Save"})]}):e.jsx(k,{variant:"ghost",size:"sm",onClick:E,className:"text-xs",children:"Edit"})]})]}),e.jsxs("section",{className:"space-y-4",children:[e.jsx("h3",{className:"text-xs font-medium text-zinc-500 uppercase tracking-wider mb-4",children:"Intelligence"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("h3",{className:"text-sm font-medium text-zinc-200 mb-1",children:"Response Style"}),e.jsx("p",{className:"text-xs text-zinc-500",children:"Choose how the AI communicates with you."})]}),e.jsx("div",{className:"grid grid-cols-1 gap-2",children:["professional","casual","concise","creative","custom"].map(f=>e.jsxs("div",{onClick:()=>M(f),className:`p-3 rounded-lg cursor-pointer transition-all duration-200 ${g===f?"bg-zinc-800/50":"hover:bg-zinc-900/30"}`,children:[e.jsxs("div",{className:"flex justify-between items-center mb-1",children:[e.jsx("span",{className:`text-sm font-medium ${g===f?"text-zinc-100":"text-zinc-300"}`,children:f==="custom"?"Custom Instructions":f.charAt(0).toUpperCase()+f.slice(1)}),g===f&&e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-blue-500"})]}),f!=="custom"?e.jsxs("p",{className:"text-sm text-zinc-500",children:[f==="professional"&&"Clear, polished, and business-appropriate tone.",f==="casual"&&"Friendly, conversational, and approachable.",f==="concise"&&"Direct, minimal, no filler words.",f==="creative"&&"Expressive, varied sentence structure."]}):g==="custom"?e.jsxs("div",{className:"mt-2 animate-fade-in",onClick:v=>v.stopPropagation(),children:[e.jsx(Q,{value:j,onChange:v=>p(v.target.value),className:"w-full",placeholder:"e.g. Always answer in haikus...",rows:3}),e.jsx(k,{variant:"default",size:"sm",onClick:z,className:"mt-2 w-full text-xs",children:"Save Custom Style"})]}):e.jsx("p",{className:"text-sm text-zinc-500",children:"Define your own system prompt."})]},f))})]})]})]}),e.jsxs(F,{value:"account",className:"space-y-8",children:[e.jsxs("section",{className:"space-y-3",children:[e.jsx("h3",{className:"text-xs font-medium text-zinc-500 uppercase tracking-wider mb-4",children:"Account Information"}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex justify-between items-center py-3 hover:bg-zinc-900/20 -mx-3 px-3 rounded-md transition-colors",children:[e.jsx("span",{className:"text-sm text-zinc-400",children:"Email"}),e.jsx("span",{className:"text-sm text-zinc-200",children:c||"Loading..."})]}),e.jsxs("div",{className:"flex justify-between items-center py-3 hover:bg-zinc-900/20 -mx-3 px-3 rounded-md transition-colors",children:[e.jsx("span",{className:"text-sm text-zinc-400",children:"Account Status"}),e.jsx("span",{className:"text-xs px-2 py-0.5 bg-green-500/10 text-green-400 rounded-md",children:"Active"})]})]})]}),e.jsxs("section",{className:"space-y-3",children:[e.jsx("h3",{className:"text-xs font-medium text-zinc-500 uppercase tracking-wider mb-4",children:"Security"}),e.jsx("div",{className:"py-3",children:e.jsx("p",{className:"text-sm text-zinc-500",children:"Password management is handled through your authentication provider."})})]})]}),e.jsxs(F,{value:"billing",className:"space-y-8",children:[e.jsxs("section",{className:"space-y-3",children:[e.jsx("h3",{className:"text-xs font-medium text-zinc-500 uppercase tracking-wider mb-4",children:"Current Plan"}),e.jsxs("div",{className:"bg-zinc-900/20 rounded-lg p-5",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-base font-semibold text-zinc-100 mb-1",children:r?.subscription_tier==="pro"?"Pro Plan":"Free Plan"}),e.jsx("p",{className:"text-xs text-zinc-500",children:"100,000 tokens per month"})]}),e.jsx("span",{className:"text-xs px-2 py-0.5 bg-zinc-800 text-zinc-400 rounded-md",children:"Current"})]}),e.jsx(k,{variant:"default",className:"w-full text-sm",children:"Upgrade to Pro"})]})]}),e.jsxs("section",{className:"space-y-3",children:[e.jsx("h3",{className:"text-xs font-medium text-zinc-500 uppercase tracking-wider mb-4",children:"Pro Plan Benefits"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2.5 text-sm text-zinc-300 py-2",children:[e.jsx(q,{className:"w-4 h-4 text-green-400 shrink-0"}),e.jsx("span",{children:"1,000,000 tokens per month"})]}),e.jsxs("div",{className:"flex items-center gap-2.5 text-sm text-zinc-300 py-2",children:[e.jsx(q,{className:"w-4 h-4 text-green-400 shrink-0"}),e.jsx("span",{children:"Priority support"})]}),e.jsxs("div",{className:"flex items-center gap-2.5 text-sm text-zinc-300 py-2",children:[e.jsx(q,{className:"w-4 h-4 text-green-400 shrink-0"}),e.jsx("span",{children:"Advanced writing styles"})]})]})]})]}),e.jsx(F,{value:"usage",className:"space-y-8 animate-fade-in",children:e.jsxs("section",{className:"space-y-3",children:[e.jsx("h3",{className:"text-xs font-medium mb-6 text-zinc-500 uppercase tracking-wider",children:"Current Usage"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-sm mb-2 text-zinc-400",children:[e.jsx("span",{children:"Monthly Tokens"}),e.jsx("span",{className:"text-zinc-500",children:"Resets in 14 days"})]}),e.jsx("div",{className:"h-2 w-full bg-zinc-800 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-zinc-100 rounded-full transition-all duration-500",style:{width:`${b}%`}})}),e.jsx("div",{className:"flex justify-between mt-2 text-xs text-zinc-500",children:e.jsxs("span",{children:[r?.tokens_used.toLocaleString()," /"," ",(r?r.tokens_used+r.tokens_remaining:0).toLocaleString()]})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-sm mb-2 text-zinc-400",children:[e.jsx("span",{children:"Fast Requests"}),e.jsx("span",{className:"text-zinc-500",children:"Daily limit"})]}),e.jsx("div",{className:"h-2 w-full bg-zinc-800 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-zinc-100 rounded-full transition-all duration-500",style:{width:"42%"}})}),e.jsx("div",{className:"flex justify-between mt-2 text-xs text-zinc-500",children:e.jsx("span",{children:"850 / 2000"})})]})]})]})}),e.jsx(F,{value:"shortcuts",className:"space-y-8 animate-fade-in",children:e.jsxs("section",{className:"space-y-6",children:[e.jsx("h3",{className:"text-xs font-medium text-zinc-500 uppercase tracking-wider mb-4",children:"Keyboard Shortcuts"}),e.jsx(ae,{platform:typeof navigator<"u"?navigator.platform:""}),e.jsx("div",{className:"pt-4 border-t border-zinc-800/50",children:e.jsx("p",{className:"text-sm text-zinc-500",children:"Use these shortcuts anywhere in your system to quickly access PromptOS."})})]})})]})})]})}let Z=!1;function os(){const t=U(),[s,n]=o.useState("auth");o.useEffect(()=>t.onNavigate(i=>{n(i)}),[t]),o.useEffect(()=>{Z||(async()=>{try{const a=await t.auth.getSession();if(a.success&&a.session){const i=await t.profile.get();i.success&&i.profile?.onboarding_completed?n("settings"):i.success&&n("onboarding-1")}Z=!0}catch{Z=!0}})()},[t]);const r=o.useCallback(a=>{n(a)},[]);return e.jsxs(e.Fragment,{children:[s==="auth"&&e.jsx(Pe,{onNavigate:r}),s==="onboarding-1"&&e.jsx(Fe,{onNavigate:r}),s==="onboarding-2"&&e.jsx(ht,{onNavigate:r}),s==="onboarding-3"&&e.jsx(gt,{onNavigate:r}),s==="settings"&&e.jsx(rs,{})]})}Me.createRoot(document.getElementById("root")).render(e.jsx(_.StrictMode,{children:e.jsx(Ae,{children:e.jsx(os,{})})}));
