import{r,j as e,c as B,u as D,B as k,b as ie,a as F,d as H,e as oe,f as qe,R as Ye,P as Ze}from"./styles-CHW7_Fe4.js";const G=r.forwardRef(({className:t,type:s,...n},a)=>e.jsx("input",{type:s,className:B("flex h-9 w-full rounded-md border border-zinc-800 bg-transparent px-3 py-1.5 text-sm text-zinc-200 transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-zinc-600 focus:outline-none focus:border-zinc-600 disabled:cursor-not-allowed disabled:opacity-50",t),ref:a,...n}));G.displayName="Input";function Je({onNavigate:t}){const s=D(),[n,a]=r.useState(!1),[i,o]=r.useState(""),[d,l]=r.useState(""),[x,u]=r.useState(""),[m,c]=r.useState(!1),f=n?"Create account":"Welcome back",b=n?"Start your journey with a free account.":"Enter your credentials to access your workspace.",w=n?"Create Account":"Continue",y=n?"Already have an account? Sign in":"No account? Sign up",p=r.useCallback(()=>{a(g=>!g),u("")},[]),z=r.useCallback(async g=>{g.preventDefault(),u(""),c(!0);const v={email:i.trim(),password:d};try{const j=n?await s.auth.signUp(v):await s.auth.signIn(v);if(!j.success){u(j.error),c(!1);return}n||j.needsOnboarding?t("onboarding-1"):t("settings")}catch{u("An unexpected error occurred"),c(!1)}},[n,i,d,s,t]);return e.jsx("div",{className:"page active flex-col items-center justify-center min-h-screen px-4 animate-fade-in w-full",children:e.jsxs("div",{className:"w-full max-w-[360px]",children:[e.jsxs("div",{className:"flex flex-col items-center mb-10",children:[e.jsx("div",{className:"w-16 h-16 flex items-center justify-center mb-6",children:e.jsx("img",{src:"logo.png",alt:"Logo",className:"w-full h-full object-contain"})}),e.jsx("h1",{className:"text-3xl font-semibold text-zinc-100 tracking-tight mb-3",children:f}),e.jsx("p",{className:"text-zinc-500 text-sm",children:b})]}),e.jsxs("form",{onSubmit:z,className:"space-y-4 mb-8",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-1",children:"Email"}),e.jsx(G,{type:"email",value:i,onChange:g=>o(g.target.value),placeholder:"name@company.com",required:!0,className:"h-11 bg-zinc-900/50"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-1",children:"Password"}),e.jsx(G,{type:"password",value:d,onChange:g=>l(g.target.value),placeholder:"••••••••",required:!0,minLength:6,className:"h-11 bg-zinc-900/50"})]})]}),x&&e.jsx("div",{className:"text-xs text-red-300 bg-red-900/20 px-3 py-2 rounded-md border border-red-900/30",children:x}),e.jsx(k,{variant:"default",type:"submit",disabled:m,className:"w-full h-12",children:m?"Loading...":w})]}),e.jsx("div",{className:"text-center",children:e.jsx(k,{variant:"ghost",onClick:p,className:"text-sm",children:y})})]})})}function Qe({onNavigate:t}){const[s,n]=r.useState(""),a=r.useRef(null),i=s.trim().length>0;r.useEffect(()=>{a.current?.focus()},[]);const o=r.useCallback(d=>{d.preventDefault();const l=s.trim();l&&(sessionStorage.setItem("onboarding-name",l),t("onboarding-2"))},[s,t]);return e.jsx("div",{className:"page active flex-col items-center justify-center min-h-screen px-4 animate-fade-in w-full",children:e.jsxs("div",{className:"w-full max-w-[480px]",children:[e.jsxs("div",{className:"mb-8 text-center",children:[e.jsx("h2",{className:"text-3xl font-semibold text-zinc-100 tracking-tight mb-2",children:"What should we call you?"}),e.jsx("p",{className:"text-zinc-500 text-base",children:"Your name will be visible in your team workspace."})]}),e.jsxs("form",{onSubmit:o,className:"relative",children:[e.jsx(G,{ref:a,type:"text",value:s,onChange:d=>n(d.target.value),placeholder:"Type your name...",required:!0,className:"w-full text-2xl py-5 px-0 border-0 border-b rounded-none text-center"}),e.jsx("div",{className:"flex justify-center mt-10",children:e.jsxs(k,{variant:"default",type:"submit",disabled:!i,className:"px-10 py-2.5 rounded-full flex items-center gap-2",children:["Continue",e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})})]})]})})}const ce=(...t)=>t.filter((s,n,a)=>!!s&&s.trim()!==""&&a.indexOf(s)===n).join(" ").trim();const Xe=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const et=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(s,n,a)=>a?a.toUpperCase():n.toLowerCase());const re=t=>{const s=et(t);return s.charAt(0).toUpperCase()+s.slice(1)};var tt={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const st=t=>{for(const s in t)if(s.startsWith("aria-")||s==="role"||s==="title")return!0;return!1};const nt=r.forwardRef(({color:t="currentColor",size:s=24,strokeWidth:n=2,absoluteStrokeWidth:a,className:i="",children:o,iconNode:d,...l},x)=>r.createElement("svg",{ref:x,...tt,width:s,height:s,stroke:t,strokeWidth:a?Number(n)*24/Number(s):n,className:ce("lucide",i),...!o&&!st(l)&&{"aria-hidden":"true"},...l},[...d.map(([u,m])=>r.createElement(u,m)),...Array.isArray(o)?o:[o]]));const S=(t,s)=>{const n=r.forwardRef(({className:a,...i},o)=>r.createElement(nt,{ref:o,iconNode:s,className:ce(`lucide-${Xe(re(t))}`,`lucide-${t}`,a),...i}));return n.displayName=re(t),n};const rt=[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]],le=S("brain",rt);const at=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],de=S("briefcase",at);const it=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],ot=S("check",it);const ct=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],lt=S("credit-card",ct);const dt=[["path",{d:"M10 8h.01",key:"1r9ogq"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M14 8h.01",key:"1primd"}],["path",{d:"M16 12h.01",key:"1l6xoz"}],["path",{d:"M18 8h.01",key:"emo2bl"}],["path",{d:"M6 8h.01",key:"x9i8wu"}],["path",{d:"M7 16h10",key:"wp8him"}],["path",{d:"M8 12h.01",key:"czm47f"}],["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}]],ut=S("keyboard",dt);const mt=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],xt=S("log-out",mt);const ht=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],pt=S("menu",ht);const ft=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],ue=S("message-circle",ft);const gt=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],bt=S("monitor",gt);const yt=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],me=S("palette",yt);const vt=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m16 15-3-3 3-3",key:"14y99z"}]],jt=S("panel-left-close",vt);const Nt=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],wt=S("pen-line",Nt);const zt=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],kt=S("plus",zt);const Ct=[["path",{d:"M14 17H5",key:"gfn3mx"}],["path",{d:"M19 7h-9",key:"6i9tg"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]],xe=S("settings-2",Ct);const St=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],It=S("settings",St);const Mt=[["path",{d:"M21 5H3",key:"1fi0y6"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 19H3",key:"z6ezky"}]],Et=S("text-align-start",Mt);const _t=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],At=S("trash-2",_t);const Tt=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Rt=S("user",Tt);const Pt=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Ft=S("zap",Pt),V=r.forwardRef(({className:t,...s},n)=>e.jsx("textarea",{className:B("flex min-h-[60px] w-full rounded-md border border-zinc-800 bg-transparent px-3 py-2 text-sm text-zinc-200 transition-colors placeholder:text-zinc-600 focus:outline-none focus:border-zinc-600 disabled:cursor-not-allowed disabled:opacity-50 resize-none",t),ref:n,...s}));V.displayName="Textarea";const Ot=[{id:"professional",title:"Professional",Icon:de,description:"Clear, polished, and business-appropriate tone.",example:'"I wanted to follow up and confirm next steps."'},{id:"casual",title:"Casual",Icon:ue,description:"Friendly, conversational, and approachable.",example:'"Hey! Just checking in about earlier—let me know!"'},{id:"concise",title:"Concise",Icon:Ft,description:"Direct, minimal, no filler words.",example:'"Following up. Please confirm."'},{id:"creative",title:"Creative",Icon:me,description:"Expressive, varied sentence structure.",example:`"Circling back—I've been mulling it over!"`}];function $t({onNavigate:t}){D();const[s,n]=r.useState(null),[a,i]=r.useState(""),[o,d]=r.useState(!1),l=s&&(s!=="custom"||a.trim().length>0),x=r.useCallback(c=>{n(c),c!=="custom"&&i("")},[]),u=r.useCallback(()=>{t("onboarding-1")},[t]),m=r.useCallback(()=>{if(s){if(s==="custom"&&!a.trim()){alert("Please enter your custom style instructions");return}sessionStorage.setItem("onboarding-style",s),s==="custom"&&sessionStorage.setItem("onboarding-style-guide",a.trim()),t("onboarding-3")}},[s,a,t]);return e.jsx("div",{className:"page active flex-col items-center justify-center min-h-screen px-4 py-8 animate-slide-up w-full",children:e.jsxs("div",{className:"w-full max-w-4xl",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h2",{className:"text-3xl font-semibold text-zinc-100 tracking-tight mb-2",children:"Choose your style"}),e.jsx("p",{className:"text-zinc-500 text-base",children:"How should the AI respond to you?"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 mb-8",children:[Ot.map(c=>e.jsxs("button",{type:"button",onClick:()=>x(c.id),className:`text-left p-4 rounded-xl transition-all duration-300 group border relative overflow-hidden ${s===c.id?"bg-zinc-800 border-zinc-500":"bg-[#1e1e20] border-zinc-800/50 hover:bg-zinc-800/50 hover:border-zinc-700"}`,children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center transition-colors duration-300 flex-shrink-0 ${s===c.id?"bg-zinc-100 text-zinc-950":"bg-zinc-900 text-zinc-500 group-hover:text-zinc-300"}`,children:e.jsx(c.Icon,{className:"w-4 h-4"})}),e.jsx("h3",{className:`text-base font-medium ${s===c.id?"text-zinc-100":"text-zinc-300"}`,children:c.title})]}),e.jsx("p",{className:"text-sm text-zinc-500 mb-3 leading-relaxed",children:c.description}),e.jsx("div",{className:`text-xs italic leading-relaxed pl-3 border-l-2 ${s===c.id?"text-zinc-300 border-zinc-500":"text-zinc-600 border-zinc-800"}`,children:c.example})]},c.id)),e.jsxs("div",{className:"md:col-span-2",children:[e.jsxs("button",{type:"button",onClick:()=>x("custom"),className:`w-full text-left p-4 rounded-xl transition-all duration-300 border relative overflow-hidden ${s==="custom"?"bg-zinc-800 border-zinc-500":"bg-[#1e1e20] border-zinc-800/50 hover:bg-zinc-800/50 hover:border-zinc-700"}`,children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center transition-colors flex-shrink-0 ${s==="custom"?"bg-zinc-100 text-zinc-950":"bg-zinc-900 text-zinc-500"}`,children:e.jsx(xe,{className:"w-4 h-4"})}),e.jsx("h3",{className:`text-base font-medium ${s==="custom"?"text-zinc-100":"text-zinc-300"}`,children:"Custom"})]}),e.jsx("p",{className:"text-sm text-zinc-500",children:"Define your own system prompt instructions."})]}),s==="custom"&&e.jsx("div",{className:"mt-3 animate-fade-in",children:e.jsx(V,{value:a,onChange:c=>i(c.target.value),className:"w-full bg-[#121214] min-h-[80px] font-mono shadow-inner text-sm",placeholder:"e.g. You are a helpful assistant who speaks in riddles..."})})]})]}),e.jsxs("div",{className:"flex justify-between items-center max-w-4xl mx-auto w-full",children:[e.jsxs(k,{variant:"ghost",type:"button",onClick:u,className:"px-0 hover:bg-transparent flex items-center gap-2 text-zinc-400 hover:text-zinc-300",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back"]}),e.jsxs(k,{variant:"default",type:"button",onClick:m,disabled:!l,className:"px-8 py-2.5 rounded-full flex items-center gap-2",children:["Continue",e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]})})}function he({platform:t}){const s=t==="darwin"||typeof navigator<"u"&&navigator.platform.toUpperCase().indexOf("MAC")>=0,n=s?"⌘":"Ctrl",a=s?"⇧":"Shift";return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-[#1e1e20] border border-zinc-800/50 rounded-xl p-6 flex flex-col items-center justify-center gap-4 text-center group hover:bg-zinc-800/50 hover:border-zinc-700 transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("kbd",{className:"h-12 min-w-[48px] px-3 flex items-center justify-center bg-zinc-900 border-b-4 border-zinc-950 rounded-lg text-zinc-100 font-mono text-xl shadow-lg group-hover:translate-y-[2px] group-hover:border-b-2 group-hover:shadow-md transition-all duration-200",children:n}),e.jsx("span",{className:"text-zinc-600 font-light text-2xl",children:"+"}),e.jsx("kbd",{className:"h-12 min-w-[48px] px-3 flex items-center justify-center bg-zinc-900 border-b-4 border-zinc-950 rounded-lg text-zinc-100 font-mono text-xl shadow-lg group-hover:translate-y-[2px] group-hover:border-b-2 group-hover:shadow-md transition-all duration-200",children:"/"})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-zinc-100 font-medium mb-1",children:"Toggle AI Assistant"}),e.jsx("p",{className:"text-zinc-500 text-sm",children:"Open/close overlay (captures selected text when opening)"})]})]}),e.jsxs("div",{className:"bg-[#1e1e20] border border-zinc-800/50 rounded-xl p-6 flex flex-col items-center justify-center gap-4 text-center group hover:bg-zinc-800/50 hover:border-zinc-700 transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("kbd",{className:"h-12 min-w-[48px] px-3 flex items-center justify-center bg-zinc-900 border-b-4 border-zinc-950 rounded-lg text-zinc-100 font-mono text-xl shadow-lg group-hover:translate-y-[2px] group-hover:border-b-2 group-hover:shadow-md transition-all duration-200",children:n}),e.jsx("span",{className:"text-zinc-600 font-light text-2xl",children:"+"}),e.jsx("kbd",{className:"h-12 min-w-[48px] px-3 flex items-center justify-center bg-zinc-900 border-b-4 border-zinc-950 rounded-lg text-zinc-100 font-mono text-xl shadow-lg group-hover:translate-y-[2px] group-hover:border-b-2 group-hover:shadow-md transition-all duration-200",children:"."})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-zinc-100 font-medium mb-1",children:"Update Context"}),e.jsx("p",{className:"text-zinc-500 text-sm",children:"Capture newly selected text when overlay is open"})]})]}),e.jsxs("div",{className:"bg-[#1e1e20] border border-zinc-800/50 rounded-xl p-6 flex flex-col items-center justify-center gap-4 text-center group hover:bg-zinc-800/50 hover:border-zinc-700 transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("kbd",{className:"h-12 min-w-[48px] px-3 flex items-center justify-center bg-zinc-900 border-b-4 border-zinc-950 rounded-lg text-zinc-100 font-mono text-xl shadow-lg group-hover:translate-y-[2px] group-hover:border-b-2 group-hover:shadow-md transition-all duration-200",children:n}),e.jsx("span",{className:"text-zinc-600 font-light text-2xl",children:"+"}),s?e.jsxs(e.Fragment,{children:[e.jsx("kbd",{className:"h-12 min-w-[48px] px-3 flex items-center justify-center bg-zinc-900 border-b-4 border-zinc-950 rounded-lg text-zinc-100 font-mono text-xl shadow-lg group-hover:translate-y-[2px] group-hover:border-b-2 group-hover:shadow-md transition-all duration-200",children:a}),e.jsx("span",{className:"text-zinc-600 font-light text-2xl",children:"+"}),e.jsx("kbd",{className:"h-12 min-w-[48px] px-3 flex items-center justify-center bg-zinc-900 border-b-4 border-zinc-950 rounded-lg text-zinc-100 font-mono text-xl shadow-lg group-hover:translate-y-[2px] group-hover:border-b-2 group-hover:shadow-md transition-all duration-200",children:"/"})]}):e.jsx("kbd",{className:"h-12 min-w-[48px] px-3 flex items-center justify-center bg-zinc-900 border-b-4 border-zinc-950 rounded-lg text-zinc-100 font-mono text-xl shadow-lg group-hover:translate-y-[2px] group-hover:border-b-2 group-hover:shadow-md transition-all duration-200",children:","})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-zinc-100 font-medium mb-1",children:"Open Settings"}),e.jsx("p",{className:"text-zinc-500 text-sm",children:"Manage your preferences"})]})]})]}),e.jsxs("div",{className:"mt-8 space-y-4",children:[e.jsx("h4",{className:"text-sm font-medium text-zinc-300",children:"Usage Tips"}),e.jsxs("div",{className:"space-y-3 text-sm text-zinc-400",children:[e.jsxs("div",{className:"flex gap-3",children:[e.jsx("span",{className:"text-zinc-500 shrink-0",children:"1."}),e.jsxs("p",{children:[e.jsx("strong",{className:"text-zinc-300",children:"Quick refine:"})," Highlight text first, then press ",e.jsxs("kbd",{className:"px-1.5 py-0.5 bg-zinc-900 border border-zinc-800 rounded text-xs font-mono",children:[n,"+/"]}),' to open with context. Type "refine this" or "fix grammar".']})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("span",{className:"text-zinc-500 shrink-0",children:"2."}),e.jsxs("p",{children:[e.jsx("strong",{className:"text-zinc-300",children:"Update context:"})," While overlay is open, select different text and press ",e.jsxs("kbd",{className:"px-1.5 py-0.5 bg-zinc-900 border border-zinc-800 rounded text-xs font-mono",children:[n,"+."]})," to update the context without closing."]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("span",{className:"text-zinc-500 shrink-0",children:"3."}),e.jsxs("p",{children:[e.jsx("strong",{className:"text-zinc-300",children:"Clean toggle:"})," Press ",e.jsxs("kbd",{className:"px-1.5 py-0.5 bg-zinc-900 border border-zinc-800 rounded text-xs font-mono",children:[n,"+/"]})," again to close the overlay - simple and predictable."]})]})]})]})]})}function Lt({onNavigate:t}){const s=D(),n=r.useCallback(async()=>{const i=sessionStorage.getItem("onboarding-name")||"",o=sessionStorage.getItem("onboarding-style")||"professional",d=sessionStorage.getItem("onboarding-style-guide")||null;try{const l=await s.onboarding.complete({displayName:i,writingStyle:o,writingStyleGuide:d});if(!l.success){console.error("Failed to complete onboarding:",l.error),alert("Failed to complete setup: "+l.error);return}sessionStorage.removeItem("onboarding-name"),sessionStorage.removeItem("onboarding-style"),sessionStorage.removeItem("onboarding-style-guide")}catch(l){console.error("Failed to complete onboarding:",l),alert("Failed to complete setup")}},[s]),a=r.useCallback(()=>{t("onboarding-2")},[t]);return r.useEffect(()=>{const i=o=>{const l=typeof navigator<"u"&&navigator.platform.toUpperCase().indexOf("MAC")>=0?o.metaKey:o.ctrlKey;l&&o.key==="/"&&!o.shiftKey&&(o.preventDefault(),n()),l&&o.shiftKey&&o.key==="/"&&(o.preventDefault(),n())};return window.addEventListener("keydown",i),()=>window.removeEventListener("keydown",i)},[n]),e.jsx("div",{className:"page active flex-col items-center justify-center min-h-screen px-4 animate-slide-up w-full",children:e.jsxs("div",{className:"w-full max-w-4xl",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h2",{className:"text-3xl font-semibold text-zinc-100 tracking-tight mb-2",children:"Give it a try"}),e.jsx("p",{className:"text-zinc-500 text-base",children:"Press the shortcut below to finish setup and open the assistant."})]}),e.jsx("div",{className:"mb-8",children:e.jsx(he,{platform:navigator.platform})}),e.jsxs("div",{className:"flex justify-between items-center max-w-4xl mx-auto w-full",children:[e.jsxs(k,{variant:"ghost",type:"button",onClick:a,className:"px-0 hover:bg-transparent flex items-center gap-2 text-zinc-400 hover:text-zinc-300",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back"]}),e.jsx(k,{variant:"ghost",type:"button",onClick:n,className:"text-zinc-500 hover:text-zinc-300 hover:bg-transparent",children:"Skip for now"})]})]})})}function R(t,s,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t?.(i),n===!1||!i.defaultPrevented)return s?.(i)}}function ee(t,s=[]){let n=[];function a(o,d){const l=r.createContext(d),x=n.length;n=[...n,d];const u=c=>{const{scope:f,children:b,...w}=c,y=f?.[t]?.[x]||l,p=r.useMemo(()=>w,Object.values(w));return e.jsx(y.Provider,{value:p,children:b})};u.displayName=o+"Provider";function m(c,f){const b=f?.[t]?.[x]||l,w=r.useContext(b);if(w)return w;if(d!==void 0)return d;throw new Error(`\`${c}\` must be used within \`${o}\``)}return[u,m]}const i=()=>{const o=n.map(d=>r.createContext(d));return function(l){const x=l?.[t]||o;return r.useMemo(()=>({[`__scope${t}`]:{...l,[t]:x}}),[l,x])}};return i.scopeName=t,[a,Dt(i,...s)]}function Dt(...t){const s=t[0];if(t.length===1)return s;const n=()=>{const a=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const d=a.reduce((l,{useScope:x,scopeName:u})=>{const c=x(o)[`__scope${u}`];return{...l,...c}},{});return r.useMemo(()=>({[`__scope${s.scopeName}`]:d}),[d])}};return n.scopeName=s.scopeName,n}function ae(t){const s=Ut(t),n=r.forwardRef((a,i)=>{const{children:o,...d}=a,l=r.Children.toArray(o),x=l.find(Vt);if(x){const u=x.props.children,m=l.map(c=>c===x?r.Children.count(u)>1?r.Children.only(null):r.isValidElement(u)?u.props.children:null:c);return e.jsx(s,{...d,ref:i,children:r.isValidElement(u)?r.cloneElement(u,void 0,m):null})}return e.jsx(s,{...d,ref:i,children:o})});return n.displayName=`${t}.Slot`,n}function Ut(t){const s=r.forwardRef((n,a)=>{const{children:i,...o}=n;if(r.isValidElement(i)){const d=Wt(i),l=Bt(o,i.props);return i.type!==r.Fragment&&(l.ref=a?ie(a,d):d),r.cloneElement(i,l)}return r.Children.count(i)>1?r.Children.only(null):null});return s.displayName=`${t}.SlotClone`,s}var Gt=Symbol("radix.slottable");function Vt(t){return r.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Gt}function Bt(t,s){const n={...s};for(const a in s){const i=t[a],o=s[a];/^on[A-Z]/.test(a)?i&&o?n[a]=(...l)=>{const x=o(...l);return i(...l),x}:i&&(n[a]=i):a==="style"?n[a]={...i,...o}:a==="className"&&(n[a]=[i,o].filter(Boolean).join(" "))}return{...t,...n}}function Wt(t){let s=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=s&&"isReactWarning"in s&&s.isReactWarning;return n?t.ref:(s=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=s&&"isReactWarning"in s&&s.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Kt(t){const s=t+"CollectionProvider",[n,a]=ee(s),[i,o]=n(s,{collectionRef:{current:null},itemMap:new Map}),d=y=>{const{scope:p,children:z}=y,g=F.useRef(null),v=F.useRef(new Map).current;return e.jsx(i,{scope:p,itemMap:v,collectionRef:g,children:z})};d.displayName=s;const l=t+"CollectionSlot",x=ae(l),u=F.forwardRef((y,p)=>{const{scope:z,children:g}=y,v=o(l,z),j=H(p,v.collectionRef);return e.jsx(x,{ref:j,children:g})});u.displayName=l;const m=t+"CollectionItemSlot",c="data-radix-collection-item",f=ae(m),b=F.forwardRef((y,p)=>{const{scope:z,children:g,...v}=y,j=F.useRef(null),E=H(p,j),_=o(m,z);return F.useEffect(()=>(_.itemMap.set(j,{ref:j,...v}),()=>{_.itemMap.delete(j)})),e.jsx(f,{[c]:"",ref:E,children:g})});b.displayName=m;function w(y){const p=o(t+"CollectionConsumer",y);return F.useCallback(()=>{const g=p.collectionRef.current;if(!g)return[];const v=Array.from(g.querySelectorAll(`[${c}]`));return Array.from(p.itemMap.values()).sort((_,A)=>v.indexOf(_.ref.current)-v.indexOf(A.ref.current))},[p.collectionRef,p.itemMap])}return[{Provider:d,Slot:u,ItemSlot:b},w,a]}var q=globalThis?.document?r.useLayoutEffect:()=>{},Ht=oe[" useId ".trim().toString()]||(()=>{}),qt=0;function pe(t){const[s,n]=r.useState(Ht());return q(()=>{n(a=>a??String(qt++))},[t]),s?`radix-${s}`:""}qe();function Yt(t){const s=Zt(t),n=r.forwardRef((a,i)=>{const{children:o,...d}=a,l=r.Children.toArray(o),x=l.find(Qt);if(x){const u=x.props.children,m=l.map(c=>c===x?r.Children.count(u)>1?r.Children.only(null):r.isValidElement(u)?u.props.children:null:c);return e.jsx(s,{...d,ref:i,children:r.isValidElement(u)?r.cloneElement(u,void 0,m):null})}return e.jsx(s,{...d,ref:i,children:o})});return n.displayName=`${t}.Slot`,n}function Zt(t){const s=r.forwardRef((n,a)=>{const{children:i,...o}=n;if(r.isValidElement(i)){const d=es(i),l=Xt(o,i.props);return i.type!==r.Fragment&&(l.ref=a?ie(a,d):d),r.cloneElement(i,l)}return r.Children.count(i)>1?r.Children.only(null):null});return s.displayName=`${t}.SlotClone`,s}var Jt=Symbol("radix.slottable");function Qt(t){return r.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Jt}function Xt(t,s){const n={...s};for(const a in s){const i=t[a],o=s[a];/^on[A-Z]/.test(a)?i&&o?n[a]=(...l)=>{const x=o(...l);return i(...l),x}:i&&(n[a]=i):a==="style"?n[a]={...i,...o}:a==="className"&&(n[a]=[i,o].filter(Boolean).join(" "))}return{...t,...n}}function es(t){let s=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=s&&"isReactWarning"in s&&s.isReactWarning;return n?t.ref:(s=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=s&&"isReactWarning"in s&&s.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var ts=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],U=ts.reduce((t,s)=>{const n=Yt(`Primitive.${s}`),a=r.forwardRef((i,o)=>{const{asChild:d,...l}=i,x=d?n:s;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),e.jsx(x,{...l,ref:o})});return a.displayName=`Primitive.${s}`,{...t,[s]:a}},{});function ss(t){const s=r.useRef(t);return r.useEffect(()=>{s.current=t}),r.useMemo(()=>(...n)=>s.current?.(...n),[])}var ns=oe[" useInsertionEffect ".trim().toString()]||q;function fe({prop:t,defaultProp:s,onChange:n=()=>{},caller:a}){const[i,o,d]=rs({defaultProp:s,onChange:n}),l=t!==void 0,x=l?t:i;{const m=r.useRef(t!==void 0);r.useEffect(()=>{const c=m.current;c!==l&&console.warn(`${a} is changing from ${c?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),m.current=l},[l,a])}const u=r.useCallback(m=>{if(l){const c=as(m)?m(t):m;c!==t&&d.current?.(c)}else o(m)},[l,t,o,d]);return[x,u]}function rs({defaultProp:t,onChange:s}){const[n,a]=r.useState(t),i=r.useRef(n),o=r.useRef(s);return ns(()=>{o.current=s},[s]),r.useEffect(()=>{i.current!==n&&(o.current?.(n),i.current=n)},[n,i]),[n,a,o]}function as(t){return typeof t=="function"}var is=r.createContext(void 0);function ge(t){const s=r.useContext(is);return t||s||"ltr"}var J="rovingFocusGroup.onEntryFocus",os={bubbles:!1,cancelable:!0},W="RovingFocusGroup",[X,be,cs]=Kt(W),[ls,ye]=ee(W,[cs]),[ds,us]=ls(W),ve=r.forwardRef((t,s)=>e.jsx(X.Provider,{scope:t.__scopeRovingFocusGroup,children:e.jsx(X.Slot,{scope:t.__scopeRovingFocusGroup,children:e.jsx(ms,{...t,ref:s})})}));ve.displayName=W;var ms=r.forwardRef((t,s)=>{const{__scopeRovingFocusGroup:n,orientation:a,loop:i=!1,dir:o,currentTabStopId:d,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:x,onEntryFocus:u,preventScrollOnEntryFocus:m=!1,...c}=t,f=r.useRef(null),b=H(s,f),w=ge(o),[y,p]=fe({prop:d,defaultProp:l??null,onChange:x,caller:W}),[z,g]=r.useState(!1),v=ss(u),j=be(n),E=r.useRef(!1),[_,A]=r.useState(0);return r.useEffect(()=>{const C=f.current;if(C)return C.addEventListener(J,v),()=>C.removeEventListener(J,v)},[v]),e.jsx(ds,{scope:n,orientation:a,dir:w,loop:i,currentTabStopId:y,onItemFocus:r.useCallback(C=>p(C),[p]),onItemShiftTab:r.useCallback(()=>g(!0),[]),onFocusableItemAdd:r.useCallback(()=>A(C=>C+1),[]),onFocusableItemRemove:r.useCallback(()=>A(C=>C-1),[]),children:e.jsx(U.div,{tabIndex:z||_===0?-1:0,"data-orientation":a,...c,ref:b,style:{outline:"none",...t.style},onMouseDown:R(t.onMouseDown,()=>{E.current=!0}),onFocus:R(t.onFocus,C=>{const O=!E.current;if(C.target===C.currentTarget&&O&&!z){const N=new CustomEvent(J,os);if(C.currentTarget.dispatchEvent(N),!N.defaultPrevented){const h=j().filter(T=>T.focusable),I=h.find(T=>T.active),M=h.find(T=>T.id===y),Z=[I,M,...h].filter(Boolean).map(T=>T.ref.current);we(Z,m)}}E.current=!1}),onBlur:R(t.onBlur,()=>g(!1))})})}),je="RovingFocusGroupItem",Ne=r.forwardRef((t,s)=>{const{__scopeRovingFocusGroup:n,focusable:a=!0,active:i=!1,tabStopId:o,children:d,...l}=t,x=pe(),u=o||x,m=us(je,n),c=m.currentTabStopId===u,f=be(n),{onFocusableItemAdd:b,onFocusableItemRemove:w,currentTabStopId:y}=m;return r.useEffect(()=>{if(a)return b(),()=>w()},[a,b,w]),e.jsx(X.ItemSlot,{scope:n,id:u,focusable:a,active:i,children:e.jsx(U.span,{tabIndex:c?0:-1,"data-orientation":m.orientation,...l,ref:s,onMouseDown:R(t.onMouseDown,p=>{a?m.onItemFocus(u):p.preventDefault()}),onFocus:R(t.onFocus,()=>m.onItemFocus(u)),onKeyDown:R(t.onKeyDown,p=>{if(p.key==="Tab"&&p.shiftKey){m.onItemShiftTab();return}if(p.target!==p.currentTarget)return;const z=ps(p,m.orientation,m.dir);if(z!==void 0){if(p.metaKey||p.ctrlKey||p.altKey||p.shiftKey)return;p.preventDefault();let v=f().filter(j=>j.focusable).map(j=>j.ref.current);if(z==="last")v.reverse();else if(z==="prev"||z==="next"){z==="prev"&&v.reverse();const j=v.indexOf(p.currentTarget);v=m.loop?fs(v,j+1):v.slice(j+1)}setTimeout(()=>we(v))}}),children:typeof d=="function"?d({isCurrentTabStop:c,hasTabStop:y!=null}):d})})});Ne.displayName=je;var xs={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function hs(t,s){return s!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function ps(t,s,n){const a=hs(t.key,n);if(!(s==="vertical"&&["ArrowLeft","ArrowRight"].includes(a))&&!(s==="horizontal"&&["ArrowUp","ArrowDown"].includes(a)))return xs[a]}function we(t,s=!1){const n=document.activeElement;for(const a of t)if(a===n||(a.focus({preventScroll:s}),document.activeElement!==n))return}function fs(t,s){return t.map((n,a)=>t[(s+a)%t.length])}var gs=ve,bs=Ne;function ys(t,s){return r.useReducer((n,a)=>s[n][a]??n,t)}var ze=t=>{const{present:s,children:n}=t,a=vs(s),i=typeof n=="function"?n({present:a.isPresent}):r.Children.only(n),o=H(a.ref,js(i));return typeof n=="function"||a.isPresent?r.cloneElement(i,{ref:o}):null};ze.displayName="Presence";function vs(t){const[s,n]=r.useState(),a=r.useRef(null),i=r.useRef(t),o=r.useRef("none"),d=t?"mounted":"unmounted",[l,x]=ys(d,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return r.useEffect(()=>{const u=K(a.current);o.current=l==="mounted"?u:"none"},[l]),q(()=>{const u=a.current,m=i.current;if(m!==t){const f=o.current,b=K(u);t?x("MOUNT"):b==="none"||u?.display==="none"?x("UNMOUNT"):x(m&&f!==b?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,x]),q(()=>{if(s){let u;const m=s.ownerDocument.defaultView??window,c=b=>{const y=K(a.current).includes(CSS.escape(b.animationName));if(b.target===s&&y&&(x("ANIMATION_END"),!i.current)){const p=s.style.animationFillMode;s.style.animationFillMode="forwards",u=m.setTimeout(()=>{s.style.animationFillMode==="forwards"&&(s.style.animationFillMode=p)})}},f=b=>{b.target===s&&(o.current=K(a.current))};return s.addEventListener("animationstart",f),s.addEventListener("animationcancel",c),s.addEventListener("animationend",c),()=>{m.clearTimeout(u),s.removeEventListener("animationstart",f),s.removeEventListener("animationcancel",c),s.removeEventListener("animationend",c)}}else x("ANIMATION_END")},[s,x]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:r.useCallback(u=>{a.current=u?getComputedStyle(u):null,n(u)},[])}}function K(t){return t?.animationName||"none"}function js(t){let s=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=s&&"isReactWarning"in s&&s.isReactWarning;return n?t.ref:(s=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=s&&"isReactWarning"in s&&s.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Y="Tabs",[Ns]=ee(Y,[ye]),ke=ye(),[ws,te]=Ns(Y),Ce=r.forwardRef((t,s)=>{const{__scopeTabs:n,value:a,onValueChange:i,defaultValue:o,orientation:d="horizontal",dir:l,activationMode:x="automatic",...u}=t,m=ge(l),[c,f]=fe({prop:a,onChange:i,defaultProp:o??"",caller:Y});return e.jsx(ws,{scope:n,baseId:pe(),value:c,onValueChange:f,orientation:d,dir:m,activationMode:x,children:e.jsx(U.div,{dir:m,"data-orientation":d,...u,ref:s})})});Ce.displayName=Y;var Se="TabsList",Ie=r.forwardRef((t,s)=>{const{__scopeTabs:n,loop:a=!0,...i}=t,o=te(Se,n),d=ke(n);return e.jsx(gs,{asChild:!0,...d,orientation:o.orientation,dir:o.dir,loop:a,children:e.jsx(U.div,{role:"tablist","aria-orientation":o.orientation,...i,ref:s})})});Ie.displayName=Se;var Me="TabsTrigger",Ee=r.forwardRef((t,s)=>{const{__scopeTabs:n,value:a,disabled:i=!1,...o}=t,d=te(Me,n),l=ke(n),x=Te(d.baseId,a),u=Re(d.baseId,a),m=a===d.value;return e.jsx(bs,{asChild:!0,...l,focusable:!i,active:m,children:e.jsx(U.button,{type:"button",role:"tab","aria-selected":m,"aria-controls":u,"data-state":m?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:x,...o,ref:s,onMouseDown:R(t.onMouseDown,c=>{!i&&c.button===0&&c.ctrlKey===!1?d.onValueChange(a):c.preventDefault()}),onKeyDown:R(t.onKeyDown,c=>{[" ","Enter"].includes(c.key)&&d.onValueChange(a)}),onFocus:R(t.onFocus,()=>{const c=d.activationMode!=="manual";!m&&!i&&c&&d.onValueChange(a)})})})});Ee.displayName=Me;var _e="TabsContent",Ae=r.forwardRef((t,s)=>{const{__scopeTabs:n,value:a,forceMount:i,children:o,...d}=t,l=te(_e,n),x=Te(l.baseId,a),u=Re(l.baseId,a),m=a===l.value,c=r.useRef(m);return r.useEffect(()=>{const f=requestAnimationFrame(()=>c.current=!1);return()=>cancelAnimationFrame(f)},[]),e.jsx(ze,{present:i||m,children:({present:f})=>e.jsx(U.div,{"data-state":m?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":x,hidden:!f,id:u,tabIndex:0,...d,ref:s,style:{...t.style,animationDuration:c.current?"0s":void 0},children:f&&o})})});Ae.displayName=_e;function Te(t,s){return`${t}-trigger-${s}`}function Re(t,s){return`${t}-content-${s}`}var zs=Ce,Pe=Ie,Fe=Ee,Oe=Ae;const ks=zs,$e=r.forwardRef(({className:t,...s},n)=>e.jsx(Pe,{ref:n,className:B("inline-flex flex-col items-stretch w-full space-y-1",t),...s}));$e.displayName=Pe.displayName;const $=r.forwardRef(({className:t,...s},n)=>e.jsx(Fe,{ref:n,className:B("flex items-center gap-3 text-left px-3 py-2 rounded-md text-sm transition-all duration-200 text-zinc-500 hover:bg-zinc-800/40 hover:text-zinc-300 data-[state=active]:bg-zinc-800/80 data-[state=active]:text-zinc-100 data-[state=active]:shadow-sm focus-visible:outline-none",t),...s}));$.displayName=Fe.displayName;const L=r.forwardRef(({className:t,...s},n)=>e.jsx(Oe,{ref:n,className:B("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...s}));L.displayName=Oe.displayName;function Cs(){const t=D(),[s,n]=r.useState(null),[a,i]=r.useState(""),[o,d]=r.useState(!0),[l,x]=r.useState(!1),[u,m]=r.useState(""),[c,f]=r.useState("professional"),[b,w]=r.useState(""),[y,p]=r.useState("gemini-2.5-flash"),[z,g]=r.useState(!1);r.useEffect(()=>{let N=!1;return(async()=>{try{const h=await t.profile.get();if(!N&&h.success){const M=h.profile;n(M),m(M.display_name||""),f(M.writing_style||"professional"),w(M.writing_style_guide||""),p(M.selected_model||"gemini-2.5-flash"),g(M.thinking_enabled||!1)}const I=await t.auth.getSession();!N&&I.success&&I.session&&i(I.session.user.email||"")}catch(h){console.error("Failed to load profile:",h)}finally{N||d(!1)}})(),()=>{N=!0}},[t]);const v=r.useCallback(async()=>{const N=u.trim();if(N)try{const h=await t.profile.update({display_name:N});h.success?(n(h.profile),x(!1)):alert("Failed to save: "+h.error)}catch{alert("Failed to save name")}},[u,t]),j=r.useCallback(async N=>{if(f(N),N!=="custom")try{const h=await t.profile.update({writing_style:N});h.success&&n(h.profile)}catch{console.error("Failed to update style")}},[t]),E=r.useCallback(async()=>{const N=b.trim();if(N)try{const h=await t.profile.update({writing_style:"custom",writing_style_guide:N});h.success&&(n(h.profile),alert("Custom style saved!"))}catch{alert("Failed to save style")}},[b,t]),_=r.useCallback(async N=>{try{const h=await t.profile.update({screenshot_enabled:N});h.success&&n(h.profile)}catch{console.error("Failed to update screenshot setting")}},[t]),A=r.useCallback(async N=>{p(N);try{const h=await t.profile.update({selected_model:N});h.success&&n(h.profile)}catch{console.error("Failed to update model selection")}},[t]),C=r.useCallback(async N=>{g(N);try{const h=await t.profile.update({thinking_enabled:N});h.success&&n(h.profile)}catch{console.error("Failed to update thinking setting")}},[t]),O=r.useCallback(async()=>{try{await t.auth.signOut()}catch{alert("Failed to log out")}},[t]);return{profile:s,setProfile:n,userEmail:a,isLoading:o,isEditingName:l,setIsEditingName:x,editedName:u,setEditedName:m,selectedStyle:c,customStyleInput:b,setCustomStyleInput:w,selectedModel:y,thinkingEnabled:z,handleSaveName:v,handleStyleSelect:j,handleSaveCustomStyle:E,handleScreenshotToggle:_,handleModelSelect:A,handleThinkingToggle:C,handleLogout:O}}function Ss(t,s){const n=D(),[a,i]=r.useState([]),[o,d]=r.useState(null),[l,x]=r.useState(s!==!1),[u,m]=r.useState(null),[c,f]=r.useState(""),[b,w]=r.useState(!1),[y,p]=r.useState(""),[z,g]=r.useState(!1),[v,j]=r.useState("");r.useEffect(()=>{if(t!=="memory")return;let h=!1;return(async()=>{try{const[I,M]=await Promise.all([n.facts.getAll(),n.facts.getStats()]);!h&&I.success&&i(I.facts||[]),!h&&M.success&&d(M.stats||null),h||x(s!==!1)}catch(I){console.error("Failed to load facts:",I)}})(),()=>{h=!0}},[t,n,s]);const E=r.useCallback(async()=>{const h=await n.facts.getStats();h.success&&d(h.stats||null)},[n]),_=r.useCallback(async h=>{try{(await n.facts.toggle(h)).success?x(h):alert("Failed to update setting")}catch{alert("Failed to update setting")}},[n]),A=r.useCallback(async h=>{if(c.trim())try{(await n.facts.update(h,c.trim())).success?(i(M=>M.map(P=>P.id===h?{...P,content:c.trim()}:P)),m(null),f("")):alert("Failed to update fact")}catch{alert("Failed to update fact")}},[c,n]),C=r.useCallback(async h=>{if(confirm("Are you sure you want to delete this memory?"))try{(await n.facts.delete(h)).success?(i(M=>M.filter(P=>P.id!==h)),await E()):alert("Failed to delete fact")}catch{alert("Failed to delete fact")}},[n,E]),O=r.useCallback(async()=>{if(y.trim()){g(!0),j("");try{const h=await n.facts.add(y.trim());h.success&&h.fact?(i(I=>[...I,h.fact]),p(""),w(!1),await E()):j(h.error||"Failed to add fact")}catch{j("Failed to add fact")}finally{g(!1)}}},[y,n,E]),N=o?o.remaining<=0:!1;return{facts:a,stats:o,isAtCapacity:N,memories:a,memoryStats:o?{total:o.count,by_category:{facts:o.count},last_session:void 0}:null,memoryEnabled:l,editingMemoryId:u,setEditingMemoryId:m,editingMemoryContent:c,setEditingMemoryContent:f,isAddingMemory:b,setIsAddingMemory:w,newMemoryContent:y,setNewMemoryContent:p,newMemoryCategory:"personal_info",setNewMemoryCategory:()=>{},isAddingLoading:z,addMemoryError:v,handleMemoryToggle:_,handleMemoryEdit:A,handleMemoryDelete:C,handleMemoryAdd:O}}const Is=[{id:"gemini-2.5-flash",label:"Gemini 2.5 Flash",provider:"Google",description:"Fast, efficient. Recommended for most tasks."},{id:"gemini-3.0-flash",label:"Gemini 3.0 Flash",provider:"Google",description:"Next-gen speed and quality."},{id:"gemini-3.0-pro",label:"Gemini 3.0 Pro",provider:"Google",description:"Most capable Google model."},{id:"grok-3",label:"Grok 3",provider:"xAI",description:"xAI's smart model. Text-only (no screenshots)."},{id:"grok-4-0709",label:"Grok 4",provider:"xAI",description:"xAI's best model. Supports screenshot context."}],Ms=[{id:"professional",label:"Professional",Icon:de,description:"Clear, polished, and business-appropriate tone.",example:'"I wanted to follow up and confirm next steps."'},{id:"casual",label:"Casual",Icon:ue,description:"Friendly, conversational, and approachable.",example:'"Hey! Just checking in about earlier—let me know!"'},{id:"concise",label:"Concise",Icon:Et,description:"Direct, minimal, no filler words.",example:'"Following up. Please confirm."'},{id:"creative",label:"Creative",Icon:me,description:"Expressive, varied sentence structure.",example:`"Circling back—I've been mulling it over!"`}];function Es({selectedStyle:t,customStyleInput:s,screenshotEnabled:n,selectedModel:a,thinkingEnabled:i,onStyleSelect:o,onCustomStyleChange:d,onSaveCustomStyle:l,onScreenshotToggle:x,onModelSelect:u,onThinkingToggle:m}){return e.jsxs("div",{className:"space-y-10",children:[e.jsxs("section",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xs font-medium text-zinc-500 uppercase tracking-wider mb-1",children:"Response Style"}),e.jsx("p",{className:"text-xs text-zinc-600",children:"Choose how the AI communicates with you."})]}),e.jsx("div",{className:"grid grid-cols-2 gap-3",children:Ms.map(c=>{const f=t===c.id;return e.jsxs("button",{type:"button",onClick:()=>o(c.id),className:`text-left p-4 rounded-xl transition-all duration-200 border group ${f?"bg-zinc-800/50 border-zinc-700":"bg-[#1e1e20] border-zinc-800/50 hover:bg-zinc-800/50 hover:border-zinc-700"}`,children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center transition-colors duration-200 flex-shrink-0 ${f?"bg-zinc-800 text-zinc-200":"bg-zinc-900 text-zinc-500 group-hover:text-zinc-400"}`,children:e.jsx(c.Icon,{className:"w-4 h-4"})}),e.jsx("span",{className:`text-sm font-medium ${f?"text-zinc-200":"text-zinc-400"}`,children:c.label})]}),e.jsx("p",{className:"text-xs text-zinc-500 mb-2 leading-relaxed",children:c.description}),e.jsx("div",{className:`text-xs italic leading-relaxed pl-3 border-l-2 ${f?"text-zinc-400 border-zinc-600":"text-zinc-600 border-zinc-800"}`,children:c.example})]},c.id)})}),e.jsxs("div",{children:[e.jsxs("button",{type:"button",onClick:()=>o("custom"),className:`w-full text-left p-4 rounded-xl transition-all duration-200 border group ${t==="custom"?"bg-zinc-800/50 border-zinc-700":"bg-[#1e1e20] border-zinc-800/50 hover:bg-zinc-800/70 hover:border-zinc-700"}`,children:[e.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[e.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center transition-colors duration-200 flex-shrink-0 ${t==="custom"?"bg-zinc-700 text-zinc-200":"bg-zinc-900 text-zinc-500 group-hover:text-zinc-400"}`,children:e.jsx(xe,{className:"w-4 h-4"})}),e.jsx("span",{className:`text-sm font-medium ${t==="custom"?"text-zinc-200":"text-zinc-400"}`,children:"Custom Instructions"})]}),e.jsx("p",{className:"text-xs text-zinc-500 pl-11",children:"Define your own system prompt instructions."})]}),t==="custom"&&e.jsxs("div",{className:"mt-3 animate-fade-in space-y-2",children:[e.jsx(V,{value:s,onChange:c=>d(c.target.value),className:"w-full bg-[#121214] text-sm",placeholder:"e.g. Always answer in haikus...",rows:3,onClick:c=>c.stopPropagation()}),e.jsx(k,{variant:"default",size:"sm",onClick:l,className:"w-full text-xs",children:"Save Custom Style"})]})]})]}),e.jsxs("section",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xs font-medium text-zinc-500 uppercase tracking-wider mb-1",children:"Screen Recording"}),e.jsx("p",{className:"text-xs text-zinc-600",children:"Capture your screen to give the AI visual context."})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl bg-[#1e1e20] border border-zinc-800/50 cursor-pointer hover:bg-zinc-800/30 transition-colors",onClick:()=>x(!n),children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-zinc-900 flex items-center justify-center flex-shrink-0",children:e.jsx(bt,{className:"w-4 h-4 text-zinc-500"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-zinc-200",children:"Screen Context"}),e.jsx("p",{className:"text-xs text-zinc-500 mt-0.5",children:"Automatically capture a screenshot when you open the overlay."})]})]}),e.jsx("div",{className:`relative w-9 h-5 rounded-full transition-colors shrink-0 ml-4 ${n?"bg-orange-500":"bg-zinc-700"}`,children:e.jsx("div",{className:`absolute top-0.5 w-4 h-4 bg-white rounded-full shadow transition-transform ${n?"translate-x-4":"translate-x-0.5"}`})})]})]}),e.jsxs("section",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xs font-medium text-zinc-500 uppercase tracking-wider mb-1",children:"AI Model"}),e.jsx("p",{className:"text-xs text-zinc-600",children:"Select the model powering your responses."})]}),e.jsx("div",{className:"grid grid-cols-1 gap-2",children:Is.map(({id:c,label:f,provider:b,description:w})=>e.jsxs("div",{onClick:()=>u(c),className:`p-3 rounded-lg cursor-pointer transition-all duration-200 border ${a===c?"bg-zinc-800/50 border-zinc-700":"border-transparent hover:bg-zinc-900/30"}`,children:[e.jsxs("div",{className:"flex justify-between items-center mb-1",children:[e.jsx("span",{className:`text-sm font-medium ${a===c?"text-zinc-100":"text-zinc-300"}`,children:f}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-[10px] text-zinc-600 uppercase tracking-wider",children:b}),a===c&&e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-orange-500"})]})]}),e.jsx("p",{className:"text-xs text-zinc-500",children:w}),c==="gemini-2.5-flash"&&a==="gemini-2.5-flash"&&e.jsxs("div",{className:"mt-3 flex justify-between items-center",onClick:y=>{y.stopPropagation(),m(!i)},children:[e.jsx("span",{className:"text-xs text-zinc-400",children:"Thinking mode"}),e.jsx("div",{className:`relative w-9 h-5 rounded-full transition-colors ${i?"bg-orange-500":"bg-zinc-700"}`,children:e.jsx("div",{className:`absolute top-0.5 w-4 h-4 bg-white rounded-full shadow transition-transform ${i?"translate-x-4":"translate-x-0.5"}`})})]})]},c))})]})]})}function _s({userEmail:t,displayName:s,isEditingName:n,editedName:a,onEditName:i,onSaveName:o,onEditedNameChange:d}){return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("section",{className:"space-y-3",children:[e.jsx("h3",{className:"text-xs font-medium text-zinc-500 uppercase tracking-wider mb-4",children:"Profile"}),e.jsx("div",{className:"space-y-1",children:e.jsxs("div",{className:"flex justify-between items-center py-3 hover:bg-zinc-900/20 -mx-3 px-3 rounded-md transition-colors",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx("h4",{className:"text-sm font-medium text-zinc-200",children:"Display Name"}),!n&&e.jsx("p",{className:"text-sm text-zinc-400",children:s||"Not set"})]}),n?e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx(G,{value:a,onChange:l=>d(l.target.value),className:"w-48",autoFocus:!0,onKeyDown:l=>{l.key==="Enter"&&o()}}),e.jsx(k,{variant:"default",size:"sm",onClick:o,className:"text-xs",children:"Save"})]}):e.jsx(k,{variant:"ghost",size:"sm",onClick:i,className:"text-xs",children:"Edit"})]})})]}),e.jsxs("section",{className:"space-y-3",children:[e.jsx("h3",{className:"text-xs font-medium text-zinc-500 uppercase tracking-wider mb-4",children:"Account Information"}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex justify-between items-center py-3 hover:bg-zinc-900/20 -mx-3 px-3 rounded-md transition-colors",children:[e.jsx("span",{className:"text-sm text-zinc-400",children:"Email"}),e.jsx("span",{className:"text-sm text-zinc-200",children:t||"Loading..."})]}),e.jsxs("div",{className:"flex justify-between items-center py-3 hover:bg-zinc-900/20 -mx-3 px-3 rounded-md transition-colors",children:[e.jsx("span",{className:"text-sm text-zinc-400",children:"Account Status"}),e.jsx("span",{className:"text-xs px-2 py-0.5 bg-green-500/10 text-green-400 rounded-md",children:"Active"})]})]})]}),e.jsxs("section",{className:"space-y-3",children:[e.jsx("h3",{className:"text-xs font-medium text-zinc-500 uppercase tracking-wider mb-4",children:"Security"}),e.jsx("div",{className:"py-3",children:e.jsx("p",{className:"text-sm text-zinc-500",children:"Password management is handled through your authentication provider."})})]})]})}function As({facts:t,stats:s,isAtCapacity:n,memoryEnabled:a,editingMemoryId:i,editingMemoryContent:o,isAddingMemory:d,newMemoryContent:l,isAddingLoading:x,addMemoryError:u,onMemoryToggle:m,onSetEditingMemoryId:c,onSetEditingMemoryContent:f,onMemoryEdit:b,onMemoryDelete:w,onSetIsAddingMemory:y,onSetNewMemoryContent:p,onMemoryAdd:z}){return e.jsxs("div",{className:"space-y-8 animate-fade-in",children:[e.jsxs("section",{className:"space-y-3",children:[e.jsx("h3",{className:"text-xs font-medium text-zinc-500 uppercase tracking-wider mb-4",children:"Memory System"}),e.jsxs("div",{className:"flex justify-between items-center py-3 hover:bg-zinc-900/20 -mx-3 px-3 rounded-md transition-colors",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx("h3",{className:"text-sm font-medium text-zinc-200",children:"Enable Memory"}),e.jsx("p",{className:"text-xs text-zinc-500",children:"Allow the AI to remember facts about you"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:a,onChange:g=>m(g.target.checked),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-zinc-700 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-orange-500"})]})]})]}),s&&e.jsxs("section",{className:"space-y-3",children:[e.jsx("h3",{className:"text-xs font-medium text-zinc-500 uppercase tracking-wider mb-4",children:"Capacity"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"flex-1 h-2 bg-zinc-800 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-orange-500 transition-all duration-300",style:{width:`${s.count/s.max*100}%`}})}),e.jsxs("span",{className:"text-sm text-zinc-400 tabular-nums",children:[s.count," / ",s.max]})]}),n&&e.jsx("p",{className:"text-xs text-amber-500",children:"Maximum reached. Delete a memory to add more."})]}),e.jsxs("section",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-xs font-medium text-zinc-500 uppercase tracking-wider",children:"What I Know About You"}),!d&&!n&&e.jsxs(k,{variant:"outline",size:"sm",onClick:()=>y(!0),className:"text-xs text-zinc-400 border-zinc-700 hover:text-zinc-200 h-7",children:[e.jsx(kt,{className:"w-3 h-3 mr-1"})," Add"]})]}),d&&e.jsxs("div",{className:"p-4 bg-zinc-900/30 rounded-lg border border-zinc-800 space-y-3 mb-4",children:[e.jsx(V,{value:l,onChange:g=>p(g.target.value),placeholder:"Enter a fact about yourself (e.g., 'My name is Alex' or 'I prefer casual communication')",className:"w-full min-h-[60px] text-sm bg-zinc-800/50 border-zinc-700",maxLength:200}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-xs text-zinc-500",children:[l.length,"/200"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(k,{variant:"ghost",size:"sm",onClick:()=>{y(!1),p("")},className:"text-xs",children:"Cancel"}),e.jsx(k,{variant:"default",size:"sm",onClick:z,disabled:!l.trim()||x,className:"text-xs",children:x?"Saving...":"Save"})]})]}),u&&e.jsx("p",{className:"text-xs text-red-400",children:u})]}),t.length===0&&!d?e.jsxs("div",{className:"text-center py-12 px-4 bg-zinc-900/10 rounded-lg border border-zinc-800/50",children:[e.jsx(le,{className:"w-12 h-12 text-zinc-600 mx-auto mb-3"}),e.jsx("p",{className:"text-sm text-zinc-400 mb-1",children:"No memories saved yet"}),e.jsx("p",{className:"text-xs text-zinc-600",children:"Add facts manually or let the AI learn about you over time"})]}):e.jsx("div",{className:"space-y-1",children:t.map((g,v)=>e.jsx("div",{className:"flex flex-col py-3 hover:bg-zinc-900/20 -mx-3 px-3 rounded-md transition-colors",children:i===g.id?e.jsxs("div",{className:"space-y-2",children:[e.jsx(V,{value:o,onChange:j=>f(j.target.value),className:"w-full min-h-[60px] text-sm",maxLength:200}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-xs text-zinc-500",children:[o.length,"/200"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(k,{variant:"ghost",size:"sm",onClick:()=>c(null),className:"text-xs",children:"Cancel"}),e.jsx(k,{variant:"default",size:"sm",onClick:()=>b(g.id),className:"text-xs",children:"Save"})]})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsxs("span",{className:"text-xs text-zinc-600 mt-0.5 w-4 text-right shrink-0",children:[v+1,"."]}),e.jsx("p",{className:"text-sm text-zinc-300 leading-relaxed flex-1",children:g.content})]}),e.jsxs("div",{className:"flex justify-between items-center mt-2 ml-7",children:[e.jsxs("span",{className:"text-[10px] text-zinc-600",children:[g.source==="auto"?"Auto-learned":"Manual"," · ",new Date(g.created_at).toLocaleDateString()]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx(k,{variant:"ghost",size:"sm",onClick:()=>{c(g.id),f(g.content)},className:"h-7 px-2 text-xs text-zinc-500 hover:text-zinc-300",children:e.jsx(wt,{className:"w-3 h-3"})}),e.jsx(k,{variant:"ghost",size:"sm",onClick:()=>w(g.id),className:"h-7 px-2 text-xs text-zinc-500 hover:text-red-400",children:e.jsx(At,{className:"w-3 h-3"})})]})]})]})},g.id))})]})]})}function Ts({profile:t}){const s=t?t.tokens_used/(t.tokens_used+t.tokens_remaining)*100:0;return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("section",{className:"space-y-3",children:[e.jsx("h3",{className:"text-xs font-medium text-zinc-500 uppercase tracking-wider mb-4",children:"Current Plan"}),e.jsxs("div",{className:"bg-zinc-900/20 rounded-lg p-5",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-base font-semibold text-zinc-100 mb-1",children:t?.subscription_tier==="pro"?"Pro Plan":"Free Plan"}),e.jsx("p",{className:"text-xs text-zinc-500",children:"100,000 tokens per month"})]}),e.jsx("span",{className:"text-xs px-2 py-0.5 bg-zinc-800 text-zinc-400 rounded-md",children:"Current"})]}),e.jsx(k,{variant:"default",className:"w-full text-sm",children:"Upgrade to Pro"})]})]}),e.jsxs("section",{className:"space-y-3",children:[e.jsx("h3",{className:"text-xs font-medium text-zinc-500 uppercase tracking-wider mb-4",children:"Pro Plan Benefits"}),e.jsx("div",{className:"space-y-2",children:["1,000,000 tokens per month","Priority support","Advanced writing styles"].map(n=>e.jsxs("div",{className:"flex items-center gap-2.5 text-sm text-zinc-300 py-2",children:[e.jsx(ot,{className:"w-4 h-4 text-green-400 shrink-0"}),e.jsx("span",{children:n})]},n))})]}),e.jsxs("section",{className:"space-y-3 pt-6 border-t border-zinc-800/50",children:[e.jsx("h3",{className:"text-xs font-medium mb-6 text-zinc-500 uppercase tracking-wider",children:"Current Usage"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-sm mb-2 text-zinc-400",children:[e.jsx("span",{children:"Monthly Tokens"}),e.jsx("span",{className:"text-zinc-500",children:"Resets in 14 days"})]}),e.jsx("div",{className:"h-2 w-full bg-zinc-800 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-zinc-100 rounded-full transition-all duration-500",style:{width:`${s}%`}})}),e.jsx("div",{className:"flex justify-between mt-2 text-xs text-zinc-500",children:e.jsxs("span",{children:[t?.tokens_used.toLocaleString()," /"," ",(t?t.tokens_used+t.tokens_remaining:0).toLocaleString()]})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-sm mb-2 text-zinc-400",children:[e.jsx("span",{children:"Fast Requests"}),e.jsx("span",{className:"text-zinc-500",children:"Daily limit"})]}),e.jsx("div",{className:"h-2 w-full bg-zinc-800 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-zinc-100 rounded-full transition-all duration-500",style:{width:"42%"}})}),e.jsx("div",{className:"flex justify-between mt-2 text-xs text-zinc-500",children:e.jsx("span",{children:"850 / 2000"})})]})]})]})]})}function Rs(){return e.jsx("div",{className:"space-y-8 animate-fade-in",children:e.jsxs("section",{className:"space-y-6",children:[e.jsx("h3",{className:"text-xs font-medium text-zinc-500 uppercase tracking-wider mb-4",children:"Keyboard Shortcuts"}),e.jsx(he,{platform:typeof navigator<"u"?navigator.platform:""}),e.jsx("div",{className:"pt-4 border-t border-zinc-800/50",children:e.jsx("p",{className:"text-sm text-zinc-500",children:"Use these shortcuts anywhere in your system to quickly access PromptOS."})})]})})}const Ps={general:"Manage your workspace preferences and settings.",account:"View and manage your account information.",memory:"View and manage information the AI remembers about you.",billing:"Manage your subscription and billing.",shortcuts:"View keyboard shortcuts and get started."};function Fs(){const[t,s]=r.useState("general"),[n,a]=r.useState(()=>localStorage.getItem("sidebar-collapsed")==="true"),{profile:i,userEmail:o,isLoading:d,isEditingName:l,setIsEditingName:x,editedName:u,setEditedName:m,selectedStyle:c,customStyleInput:f,setCustomStyleInput:b,selectedModel:w,thinkingEnabled:y,handleSaveName:p,handleStyleSelect:z,handleSaveCustomStyle:g,handleScreenshotToggle:v,handleModelSelect:j,handleThinkingToggle:E,handleLogout:_}=Cs(),{facts:A,stats:C,isAtCapacity:O,memoryEnabled:N,editingMemoryId:h,setEditingMemoryId:I,editingMemoryContent:M,setEditingMemoryContent:P,isAddingMemory:Z,setIsAddingMemory:T,newMemoryContent:Le,setNewMemoryContent:De,isAddingLoading:Ue,addMemoryError:Ge,handleMemoryToggle:Ve,handleMemoryEdit:Be,handleMemoryDelete:We,handleMemoryAdd:Ke}=Ss(t,i?.memory_enabled),se=r.useCallback(()=>{a(He=>{const ne=!He;return localStorage.setItem("sidebar-collapsed",String(ne)),ne})},[]);return d?e.jsx("div",{className:"flex h-screen items-center justify-center bg-claude-bg text-zinc-200",children:e.jsx("div",{children:"Loading..."})}):e.jsxs(ks,{value:t,onValueChange:s,className:"page active flex h-screen bg-claude-bg text-zinc-200 overflow-hidden w-full",children:[e.jsx("div",{className:"title-bar h-8 w-full fixed top-0 left-0 z-50"}),n&&e.jsx(k,{variant:"ghost",size:"icon",onClick:se,className:"fixed top-10 left-4 z-50 p-2 rounded-lg bg-claude-sidebar border border-zinc-800/50",children:e.jsx(pt,{className:"w-5 h-5"})}),e.jsxs("aside",{className:`flex flex-col bg-claude-sidebar border-r border-zinc-800/50 pt-10 pb-4 h-full transition-all duration-300 ease-in-out ${n?"w-0 opacity-0 overflow-hidden":"w-[260px] opacity-100"}`,children:[e.jsxs("div",{className:"px-5 mb-8 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3 overflow-hidden",children:[e.jsx("img",{src:"logo.png",alt:"Logo",className:"w-7 h-7 object-contain shrink-0"}),e.jsx("span",{className:"text-xl font-semibold tracking-tight text-zinc-100",children:"PromptOS"})]}),e.jsx(k,{variant:"ghost",size:"sm",onClick:se,className:"text-zinc-500 hover:text-zinc-300 h-auto p-1",children:e.jsx(jt,{className:"w-4 h-4"})})]}),e.jsxs($e,{className:"flex-1 px-3",children:[e.jsxs($,{value:"general",children:[e.jsx(It,{className:"w-4 h-4 shrink-0"}),e.jsx("span",{className:"whitespace-nowrap",children:"General"})]}),e.jsxs($,{value:"account",children:[e.jsx(Rt,{className:"w-4 h-4 shrink-0"}),e.jsx("span",{className:"whitespace-nowrap",children:"Account"})]}),e.jsxs($,{value:"memory",children:[e.jsx(le,{className:"w-4 h-4 shrink-0"}),e.jsx("span",{className:"whitespace-nowrap",children:"Memory"})]}),e.jsxs($,{value:"billing",children:[e.jsx(lt,{className:"w-4 h-4 shrink-0"}),e.jsx("span",{className:"whitespace-nowrap",children:"Billing"})]}),e.jsxs($,{value:"shortcuts",children:[e.jsx(ut,{className:"w-4 h-4 shrink-0"}),e.jsx("span",{className:"whitespace-nowrap",children:"Shortcuts"})]})]}),e.jsx("div",{className:"px-3 mt-auto",children:e.jsxs("div",{className:"p-3 rounded-lg bg-zinc-900/30 mb-2",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-zinc-800 flex items-center justify-center text-xs font-medium text-zinc-300 shrink-0",children:i?.display_name?.charAt(0).toUpperCase()||"U"}),e.jsxs("div",{className:"overflow-hidden",children:[e.jsx("p",{className:"text-sm font-medium truncate text-zinc-200",children:i?.display_name||"User Name"}),e.jsx("p",{className:"text-[10px] text-zinc-500 truncate uppercase tracking-wider",children:i?.subscription_tier==="pro"?"Pro Plan":"Free Plan"})]})]}),e.jsxs(k,{variant:"ghost",size:"sm",onClick:_,className:"w-full h-8 flex items-center gap-2 px-2 text-xs text-zinc-500 hover:text-zinc-300 justify-start",children:[e.jsx(xt,{className:"w-3.5 h-3.5"}),"Sign out"]})]})})]}),e.jsx("main",{className:"flex-1 overflow-y-auto bg-claude-bg h-full",children:e.jsxs("div",{className:"max-w-3xl mx-auto px-12 py-16 animate-fade-in",children:[e.jsxs("div",{className:"mb-10",children:[e.jsx("h1",{className:"text-2xl font-semibold mb-1 text-zinc-100 capitalize",children:t}),e.jsx("p",{className:"text-zinc-500 text-sm",children:Ps[t]})]}),e.jsx(L,{value:"general",children:e.jsx(Es,{selectedStyle:c,customStyleInput:f,screenshotEnabled:i?.screenshot_enabled!==!1,selectedModel:w,thinkingEnabled:y,onStyleSelect:z,onCustomStyleChange:b,onSaveCustomStyle:g,onScreenshotToggle:v,onModelSelect:j,onThinkingToggle:E})}),e.jsx(L,{value:"account",children:e.jsx(_s,{userEmail:o,displayName:i?.display_name,isEditingName:l,editedName:u,onEditName:()=>x(!0),onSaveName:p,onEditedNameChange:m})}),e.jsx(L,{value:"memory",children:e.jsx(As,{facts:A,stats:C,isAtCapacity:O,memoryEnabled:N,editingMemoryId:h,editingMemoryContent:M,isAddingMemory:Z,newMemoryContent:Le,isAddingLoading:Ue,addMemoryError:Ge,onMemoryToggle:Ve,onSetEditingMemoryId:I,onSetEditingMemoryContent:P,onMemoryEdit:Be,onMemoryDelete:We,onSetIsAddingMemory:T,onSetNewMemoryContent:De,onMemoryAdd:Ke})}),e.jsx(L,{value:"billing",children:e.jsx(Ts,{profile:i})}),e.jsx(L,{value:"shortcuts",children:e.jsx(Rs,{})})]})})]})}let Q=!1;function Os(){const t=D(),[s,n]=r.useState("auth");r.useEffect(()=>t.onNavigate(o=>{n(o)}),[t]),r.useEffect(()=>{Q||(async()=>{try{const i=await t.auth.getSession();if(i.success&&i.session){const o=await t.profile.get();o.success&&o.profile?.onboarding_completed?n("settings"):o.success&&n("onboarding-1")}Q=!0}catch{Q=!0}})()},[t]);const a=r.useCallback(i=>{n(i)},[]);return e.jsxs(e.Fragment,{children:[s==="auth"&&e.jsx(Je,{onNavigate:a}),s==="onboarding-1"&&e.jsx(Qe,{onNavigate:a}),s==="onboarding-2"&&e.jsx($t,{onNavigate:a}),s==="onboarding-3"&&e.jsx(Lt,{onNavigate:a}),s==="settings"&&e.jsx(Fs,{})]})}Ye.createRoot(document.getElementById("root")).render(e.jsx(F.StrictMode,{children:e.jsx(Ze,{children:e.jsx(Os,{})})}));
